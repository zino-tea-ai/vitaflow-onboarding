{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/lib/api.ts"],"sourcesContent":["/**\r\n * PM Tool v2 - API ÂÆ¢Êà∑Á´Ø\r\n */\r\nimport type {\r\n  Project,\r\n  ProjectListResponse,\r\n  ProjectsQueryParams,\r\n  ScreenshotListResponse,\r\n  ScreenshotsQueryParams,\r\n} from '@/types'\r\n\r\nconst API_BASE = '/api'\r\n\r\n/**\r\n * ÊûÑÂª∫Êü•ËØ¢Â≠óÁ¨¶‰∏≤\r\n */\r\nfunction buildQueryString(params: object): string {\r\n  const searchParams = new URLSearchParams()\r\n  for (const [key, value] of Object.entries(params)) {\r\n    if (value !== undefined && value !== null && value !== '') {\r\n      searchParams.append(key, String(value))\r\n    }\r\n  }\r\n  const query = searchParams.toString()\r\n  return query ? `?${query}` : ''\r\n}\r\n\r\n/**\r\n * ÈÄöÁî®ËØ∑Ê±ÇÂáΩÊï∞\r\n */\r\nasync function fetchApi<T>(endpoint: string, options?: RequestInit): Promise<T> {\r\n  const url = `${API_BASE}${endpoint}`\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      ...options,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options?.headers,\r\n      },\r\n    })\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json().catch(() => ({ detail: response.statusText }))\r\n      throw new Error(error.detail || `API Error: ${response.status}`)\r\n    }\r\n\r\n    return response.json()\r\n  } catch (err) {\r\n    throw err\r\n  }\r\n}\r\n\r\n// ==================== È°πÁõÆ API ====================\r\n\r\n/**\r\n * Ëé∑ÂèñÈ°πÁõÆÂàóË°®\r\n */\r\nexport async function getProjects(params?: ProjectsQueryParams): Promise<ProjectListResponse> {\r\n  const query = buildQueryString(params || {})\r\n  return fetchApi<ProjectListResponse>(`/projects${query}`)\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂçï‰∏™È°πÁõÆ\r\n */\r\nexport async function getProject(name: string): Promise<Project> {\r\n  return fetchApi<Project>(`/projects/${encodeURIComponent(name)}`)\r\n}\r\n\r\n// ==================== Êà™Âõæ API ====================\r\n\r\n/**\r\n * Ëé∑ÂèñÈ°πÁõÆÊà™ÂõæÂàóË°®\r\n */\r\nexport async function getScreenshots(\r\n  projectName: string,\r\n  params?: ScreenshotsQueryParams\r\n): Promise<ScreenshotListResponse> {\r\n  const query = buildQueryString(params || {})\r\n  // ‰ΩøÁî®Êñ∞ÁöÑ API Ë∑ØÂæÑÈÅøÂÖç‰∏é /projects/{name} Ë∑ØÁî±ÂÜ≤Á™Å\r\n  return fetchApi<ScreenshotListResponse>(\r\n    `/project-screenshots/${encodeURIComponent(projectName)}${query}`\r\n  )\r\n}\r\n\r\n/**\r\n * ÁºìÂ≠òÁâàÊú¨Âè∑ - Âú®Â∫îÁî®ÊéíÂ∫èÂêéÊõ¥Êñ∞ÔºåÁî®‰∫éÂº∫Âà∂Âà∑Êñ∞ÂõæÁâá\r\n */\r\nlet imageCacheVersion = Date.now()\r\n\r\n/**\r\n * Ëé∑ÂèñÊà™Âõæ URLÔºàÂ§ßÂõæÔºâ\r\n */\r\nexport function getScreenshotUrl(projectName: string, filename: string): string {\r\n  return `${API_BASE}/screenshots/${encodeURIComponent(projectName)}/${encodeURIComponent(filename)}?v=${imageCacheVersion}`\r\n}\r\n\r\n/**\r\n * Êõ¥Êñ∞ÂõæÁâáÁºìÂ≠òÁâàÊú¨ÔºàÂº∫Âà∂Âà∑Êñ∞ÊâÄÊúâÂõæÁâáÔºåÂåÖÊã¨Â§ßÂõæÂíåÁº©Áï•ÂõæÔºâ\r\n */\r\nexport function invalidateThumbnailCache(): void {\r\n  imageCacheVersion = Date.now()\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÁº©Áï•Âõæ URL\r\n */\r\nexport function getThumbnailUrl(\r\n  projectName: string,\r\n  filename: string,\r\n  size: 'small' | 'medium' | 'large' = 'small'\r\n): string {\r\n  return `${API_BASE}/thumbnails/${encodeURIComponent(projectName)}/${encodeURIComponent(filename)}?size=${size}&v=${imageCacheVersion}`\r\n}\r\n\r\n// ==================== Onboarding API ====================\r\n\r\nexport interface OnboardingRange {\r\n  start: number\r\n  end: number\r\n  updated_at?: string\r\n}\r\n\r\nexport interface CheckStatus {\r\n  checked: boolean\r\n  checked_at?: string\r\n  screen_count: number\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÈ°πÁõÆ Onboarding ËåÉÂõ¥\r\n */\r\nexport async function getOnboardingRange(projectName: string): Promise<OnboardingRange> {\r\n  return fetchApi<OnboardingRange>(`/onboarding-range/${encodeURIComponent(projectName)}`)\r\n}\r\n\r\n/**\r\n * ‰øùÂ≠òÈ°πÁõÆ Onboarding ËåÉÂõ¥\r\n */\r\nexport async function saveOnboardingRange(\r\n  projectName: string,\r\n  start: number,\r\n  end: number\r\n): Promise<{ success: boolean; data: OnboardingRange }> {\r\n  return fetchApi(`/onboarding-range/${encodeURIComponent(projectName)}`, {\r\n    method: 'POST',\r\n    body: JSON.stringify({ start, end }),\r\n  })\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÈ°πÁõÆÊ£ÄÊü•Áä∂ÊÄÅ\r\n */\r\nexport async function getCheckStatus(projectName: string): Promise<CheckStatus> {\r\n  return fetchApi<CheckStatus>(`/check-status/${encodeURIComponent(projectName)}`)\r\n}\r\n\r\n/**\r\n * ËÆæÁΩÆÈ°πÁõÆÊ£ÄÊü•Áä∂ÊÄÅ\r\n */\r\nexport async function setCheckStatus(\r\n  projectName: string,\r\n  checked: boolean\r\n): Promise<{ success: boolean; data: CheckStatus }> {\r\n  return fetchApi(`/check-status/${encodeURIComponent(projectName)}`, {\r\n    method: 'POST',\r\n    body: JSON.stringify({ checked }),\r\n  })\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÊâÄÊúâ Onboarding Êï∞ÊçÆ\r\n */\r\nexport async function getAllOnboarding(): Promise<{\r\n  total: number\r\n  items: Array<OnboardingRange & { project: string; source: string }>\r\n}> {\r\n  return fetchApi('/all-onboarding')\r\n}\r\n\r\n// ==================== ÊéíÂ∫è API ====================\r\n\r\nexport interface SortItem {\r\n  original_file: string\r\n  new_index: number\r\n}\r\n\r\nexport interface DeletedBatch {\r\n  timestamp: string\r\n  deleted_at: string | null\r\n  files: string[]\r\n  count: number\r\n}\r\n\r\n/**\r\n * ‰øùÂ≠òÊéíÂ∫èÔºà‰∏çÈáçÂëΩÂêçÊñá‰ª∂Ôºâ\r\n */\r\nexport async function saveSortOrder(\r\n  project: string,\r\n  order: SortItem[]\r\n): Promise<{ success: boolean; message: string }> {\r\n  return fetchApi('/save-sort-order', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ project, order }),\r\n  })\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂ∑≤‰øùÂ≠òÁöÑÊéíÂ∫è\r\n */\r\nexport async function getSortOrder(projectName: string): Promise<{\r\n  project: string\r\n  order: SortItem[]\r\n  saved_at?: string\r\n}> {\r\n  return fetchApi(`/sort-order/${encodeURIComponent(projectName)}`)\r\n}\r\n\r\n/**\r\n * Â∫îÁî®ÊéíÂ∫èÔºàÈáçÂëΩÂêçÊñá‰ª∂Ôºâ\r\n */\r\nexport async function applySortOrder(\r\n  project: string,\r\n  order: SortItem[]\r\n): Promise<{ success: boolean; message: string }> {\r\n  return fetchApi('/apply-sort-order', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ project, order }),\r\n  })\r\n}\r\n\r\n/**\r\n * Âà†Èô§Êà™Âõæ\r\n */\r\nexport async function deleteScreens(\r\n  project: string,\r\n  files: string[]\r\n): Promise<{ success: boolean; deleted_count: number; batch: string }> {\r\n  return fetchApi('/delete-screens', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ project, files }),\r\n  })\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂ∑≤Âà†Èô§ÁöÑÊà™Âõæ\r\n */\r\nexport async function getDeletedScreens(projectName: string): Promise<{\r\n  total: number\r\n  batches: DeletedBatch[]\r\n}> {\r\n  return fetchApi(`/deleted-screens/${encodeURIComponent(projectName)}`)\r\n}\r\n\r\n/**\r\n * ÊÅ¢Â§çÂ∑≤Âà†Èô§ÁöÑÊà™Âõæ\r\n */\r\nexport async function restoreScreens(\r\n  project: string,\r\n  batch: string\r\n): Promise<{ success: boolean; restored_count: number }> {\r\n  return fetchApi('/restore-screens', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ project, batch }),\r\n  })\r\n}\r\n\r\n// ==================== ÂàÜÁ±ª API ====================\r\n\r\nexport interface Taxonomy {\r\n  stages: string[]\r\n  modules: string[]\r\n}\r\n\r\nexport interface ClassificationUpdate {\r\n  stage?: string\r\n  module?: string\r\n  feature?: string\r\n  page_role?: string\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂàÜÁ±ªÊ≥ï\r\n */\r\nexport async function getTaxonomy(): Promise<{\r\n  success: boolean\r\n  taxonomy: Taxonomy\r\n  synonyms: Record<string, string>\r\n}> {\r\n  return fetchApi('/taxonomy')\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÈ°πÁõÆÂàÜÁ±ª\r\n */\r\nexport async function getClassification(projectName: string): Promise<{\r\n  project: string\r\n  classifications: Record<string, ClassificationUpdate>\r\n}> {\r\n  return fetchApi(`/classification/${encodeURIComponent(projectName)}`)\r\n}\r\n\r\n/**\r\n * Êõ¥Êñ∞ÂàÜÁ±ª\r\n */\r\nexport async function updateClassification(\r\n  project: string,\r\n  changes: Record<string, ClassificationUpdate>\r\n): Promise<{ success: boolean; count: number }> {\r\n  return fetchApi('/update-classification', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ project, changes }),\r\n  })\r\n}\r\n\r\n/**\r\n * ÊâπÈáèÂàÜÁ±ª\r\n */\r\nexport async function batchClassify(\r\n  project: string,\r\n  files: string[],\r\n  classification: ClassificationUpdate\r\n): Promise<{ success: boolean; count: number }> {\r\n  return fetchApi('/batch-classify', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ project, files, classification }),\r\n  })\r\n}\r\n\r\n// ==================== ÂïÜÂ∫óÂØπÊØî API ====================\r\n\r\nexport interface StoreApp {\r\n  name: string\r\n  folder_name: string\r\n  track_name?: string\r\n  description?: string\r\n  price?: number\r\n  rating?: number\r\n  rating_count?: number\r\n  revenue?: number\r\n  downloads?: number\r\n  arpu?: number\r\n  growth_rate?: number\r\n  dau?: number\r\n  priority?: string\r\n  icon_url?: string\r\n  store_screenshots?: string[]\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂïÜÂ∫óÂØπÊØîÊï∞ÊçÆ\r\n */\r\nexport async function getStoreComparison(): Promise<{\r\n  apps: StoreApp[]\r\n  total: number\r\n}> {\r\n  return fetchApi('/store-comparison')\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂçï‰∏™Â∫îÁî®ÂïÜÂ∫ó‰ø°ÊÅØ\r\n */\r\nexport async function getStoreInfo(projectName: string): Promise<StoreApp> {\r\n  return fetchApi(`/store-info/${encodeURIComponent(projectName)}`)\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂïÜÂ∫óÊà™Âõæ URL\r\n */\r\nexport function getStoreScreenshotUrl(projectName: string, filename: string): string {\r\n  return `${API_BASE}/store-screenshot/${encodeURIComponent(projectName)}/${encodeURIComponent(filename)}`\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂ∫îÁî®ÂõæÊ†á URL\r\n */\r\nexport function getStoreIconUrl(projectName: string): string {\r\n  return `${API_BASE}/store-icon/${encodeURIComponent(projectName)}`\r\n}\r\n\r\n// ==================== ÂØºÂá∫ÂíåÂéÜÂè≤ API ====================\r\n\r\nexport interface HistoryItem {\r\n  action: string\r\n  description: string\r\n  project?: string\r\n  timestamp: string\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÊìç‰ΩúÂéÜÂè≤\r\n */\r\nexport async function getHistory(limit: number = 50): Promise<{\r\n  total: number\r\n  items: HistoryItem[]\r\n}> {\r\n  return fetchApi(`/history?limit=${limit}`)\r\n}\r\n\r\n/**\r\n * Ê∏ÖÁ©∫ÂéÜÂè≤ËÆ∞ÂΩï\r\n */\r\nexport async function clearHistory(): Promise<{ success: boolean }> {\r\n  return fetchApi('/history/clear', { method: 'POST' })\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂØºÂá∫ JSON URL\r\n */\r\nexport function getExportJsonUrl(projectName: string): string {\r\n  return `${API_BASE}/export/${encodeURIComponent(projectName)}/json`\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂØºÂá∫ ZIP URL\r\n */\r\nexport function getExportZipUrl(projectName: string): string {\r\n  return `${API_BASE}/export/${encodeURIComponent(projectName)}/zip`\r\n}\r\n\r\n// ==================== ÂæÖÂ§ÑÁêÜÊà™Âõæ API ====================\r\n\r\nexport interface PendingScreenshot {\r\n  filename: string\r\n  path: string\r\n  size: number\r\n  created_at: string\r\n  thumbnail_url: string\r\n}\r\n\r\nexport interface PendingListResponse {\r\n  screenshots: PendingScreenshot[]\r\n  total: number\r\n  source_path: string | null\r\n}\r\n\r\nexport interface ApowersoftConfig {\r\n  path: string\r\n  auto_import: boolean\r\n  updated_at?: string\r\n  detected?: boolean\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂæÖÂ§ÑÁêÜÊà™ÂõæÂàóË°®\r\n */\r\nexport async function getPendingScreenshots(): Promise<PendingListResponse> {\r\n  return fetchApi<PendingListResponse>('/pending-screenshots')\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂæÖÂ§ÑÁêÜÊà™ÂõæÁº©Áï•Âõæ URL\r\n */\r\nexport function getPendingThumbnailUrl(filename: string): string {\r\n  return `${API_BASE}/pending-thumbnail/${encodeURIComponent(filename)}`\r\n}\r\n\r\n/**\r\n * ÂØºÂÖ•Êà™ÂõæÂà∞È°πÁõÆ\r\n */\r\nexport async function importScreenshot(\r\n  project: string,\r\n  filename: string,\r\n  position: number = -1\r\n): Promise<{ success: boolean; message: string; new_filename?: string; position?: number }> {\r\n  return fetchApi('/import-screenshot', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ project, filename, position }),\r\n  })\r\n}\r\n\r\n/**\r\n * ‰∏ä‰º†Êà™ÂõæÊñá‰ª∂Âà∞È°πÁõÆ\r\n */\r\nexport async function uploadScreenshot(\r\n  project: string,\r\n  file: File\r\n): Promise<{ success: boolean; message: string; new_filename?: string; position?: number }> {\r\n  const formData = new FormData()\r\n  formData.append('project', project)\r\n  formData.append('file', file)\r\n  \r\n  const response = await fetch(`${API_BASE}/upload-screenshot`, {\r\n    method: 'POST',\r\n    body: formData,\r\n  })\r\n  \r\n  if (!response.ok) {\r\n    const error = await response.json().catch(() => ({ detail: 'Upload failed' }))\r\n    throw new Error(error.detail || 'Upload failed')\r\n  }\r\n  \r\n  return response.json()\r\n}\r\n\r\n/**\r\n * Ëé∑ÂèñÂÇ≤ËΩØÈÖçÁΩÆ\r\n */\r\nexport async function getApowersoftConfig(): Promise<ApowersoftConfig> {\r\n  return fetchApi<ApowersoftConfig>('/apowersoft-config')\r\n}\r\n\r\n/**\r\n * ‰øùÂ≠òÂÇ≤ËΩØÈÖçÁΩÆ\r\n */\r\nexport async function saveApowersoftConfig(\r\n  path: string,\r\n  auto_import: boolean = false\r\n): Promise<{ success: boolean; message: string }> {\r\n  return fetchApi('/apowersoft-config', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ path, auto_import }),\r\n  })\r\n}\r\n\r\n/**\r\n * ‰ªéÂÇ≤ËΩØÂØºÂÖ•ÊâÄÊúâÊà™Âõæ\r\n */\r\nexport async function importFromApowersoft(): Promise<{ success: boolean; imported: number }> {\r\n  return fetchApi('/import-from-apowersoft', { method: 'POST' })\r\n}\r\n\r\n/**\r\n * Ê∏ÖÈô§ÂÇ≤ËΩØÁõÆÂΩï‰∏≠ÁöÑÊâÄÊúâÊà™Âõæ\r\n */\r\nexport async function clearPendingScreenshots(): Promise<{ success: boolean; deleted: number; message: string }> {\r\n  return fetchApi('/clear-pending-screenshots', { method: 'POST' })\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 343, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/store/project-store.ts"],"sourcesContent":["/**\r\n * È°πÁõÆÁä∂ÊÄÅÁÆ°ÁêÜ\r\n */\r\nimport { create } from 'zustand'\r\nimport type { Project, ProjectListResponse } from '@/types'\r\nimport { getProjects } from '@/lib/api'\r\n\r\ninterface ProjectState {\r\n  // Êï∞ÊçÆ\r\n  projects: Project[]\r\n  total: number\r\n  stats: {\r\n    total_screens: number\r\n    checked: number\r\n    onboarding_marked: number\r\n  } | null\r\n\r\n  // Á≠õÈÄâ\r\n  search: string\r\n  sourceFilter: 'all' | 'projects' | 'downloads_2024'\r\n\r\n  // Áä∂ÊÄÅ\r\n  loading: boolean\r\n  error: string | null\r\n\r\n  // Êìç‰Ωú\r\n  fetchProjects: () => Promise<void>\r\n  setSearch: (search: string) => void\r\n  setSourceFilter: (source: 'all' | 'projects' | 'downloads_2024') => void\r\n}\r\n\r\nexport const useProjectStore = create<ProjectState>((set, get) => ({\r\n  // ÂàùÂßãÁä∂ÊÄÅ\r\n  projects: [],\r\n  total: 0,\r\n  stats: null,\r\n  search: '',\r\n  sourceFilter: 'all',\r\n  loading: false,\r\n  error: null,\r\n\r\n  // Ëé∑ÂèñÈ°πÁõÆÂàóË°®\r\n  fetchProjects: async () => {\r\n    set({ loading: true, error: null })\r\n\r\n    try {\r\n      const { search, sourceFilter } = get()\r\n      const params: Record<string, string> = {}\r\n\r\n      if (search) params.search = search\r\n      if (sourceFilter !== 'all') params.source = sourceFilter\r\n\r\n      const response = await getProjects(params)\r\n\r\n      set({\r\n        projects: response.projects,\r\n        total: response.total,\r\n        stats: response.stats || null,\r\n        loading: false,\r\n      })\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Ëé∑ÂèñÈ°πÁõÆÂ§±Ë¥•',\r\n        loading: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  // ËÆæÁΩÆÊêúÁ¥¢\r\n  setSearch: (search) => {\r\n    set({ search })\r\n  },\r\n\r\n  // ËÆæÁΩÆÊù•Ê∫êÁ≠õÈÄâ\r\n  setSourceFilter: (source) => {\r\n    set({ sourceFilter: source })\r\n  },\r\n}))\r\n\r\n\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AACD;AAEA;;;AA0BO,MAAM,kBAAkB,IAAA,kJAAM,EAAe,CAAC,KAAK,MAAQ,CAAC;QACjE,OAAO;QACP,UAAU,EAAE;QACZ,OAAO;QACP,OAAO;QACP,QAAQ;QACR,cAAc;QACd,SAAS;QACT,OAAO;QAEP,SAAS;QACT,eAAe;YACb,IAAI;gBAAE,SAAS;gBAAM,OAAO;YAAK;YAEjC,IAAI;gBACF,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,GAAG;gBACjC,MAAM,SAAiC,CAAC;gBAExC,IAAI,QAAQ,OAAO,MAAM,GAAG;gBAC5B,IAAI,iBAAiB,OAAO,OAAO,MAAM,GAAG;gBAE5C,MAAM,WAAW,MAAM,IAAA,gIAAW,EAAC;gBAEnC,IAAI;oBACF,UAAU,SAAS,QAAQ;oBAC3B,OAAO,SAAS,KAAK;oBACrB,OAAO,SAAS,KAAK,IAAI;oBACzB,SAAS;gBACX;YACF,EAAE,OAAO,OAAO;gBACd,IAAI;oBACF,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;oBAChD,SAAS;gBACX;YACF;QACF;QAEA,OAAO;QACP,WAAW,CAAC;YACV,IAAI;gBAAE;YAAO;QACf;QAEA,SAAS;QACT,iBAAiB,CAAC;YAChB,IAAI;gBAAE,cAAc;YAAO;QAC7B;IACF,CAAC"}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/layout/sidebar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport Link from 'next/link'\r\nimport Image from 'next/image'\r\nimport { usePathname } from 'next/navigation'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { useProjectStore } from '@/store/project-store'\r\nimport { Home, Settings, LayoutGrid, Play, ArrowUpDown, Tags, Store, GitBranch, FlaskConical, BarChart3, Sparkles, Smartphone } from 'lucide-react'\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8001'\r\n\r\n// Logo URL helper\r\nfunction getLogoUrl(projectName: string): string {\r\n  // ‰ªé downloads_2024/Fitbit ÊèêÂèñ Fitbit\r\n  const appName = projectName.includes('/') \r\n    ? projectName.split('/').pop() \r\n    : projectName\r\n  return `${API_BASE}/api/logo/${appName}`\r\n}\r\n\r\nexport function Sidebar() {\r\n  const pathname = usePathname()\r\n  const { projects, fetchProjects, loading } = useProjectStore()\r\n\r\n  useEffect(() => {\r\n    fetchProjects()\r\n  }, [fetchProjects])\r\n\r\n  // Ëé∑ÂèñÂΩìÂâçÈÄâ‰∏≠ÁöÑÈ°πÁõÆ\r\n  const currentProject = pathname.startsWith('/project/')\r\n    ? decodeURIComponent(pathname.replace('/project/', ''))\r\n    : null\r\n\r\n  return (\r\n    <aside className=\"sidebar\">\r\n      {/* Logo */}\r\n      <div className=\"sidebar-header\">\r\n        <Link href=\"/\" className=\"logo\">\r\n          <LayoutGrid className=\"logo-icon\" />\r\n          <span>PM Lab</span>\r\n        </Link>\r\n      </div>\r\n\r\n      {/* ÂØºËà™ */}\r\n      <div className=\"sidebar-section\">\r\n        <h3>ÂØºËà™</h3>\r\n        <nav className=\"project-list\">\r\n          <Link href=\"/\">\r\n            <motion.div\r\n              className={`project-item ${pathname === '/' ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <Home size={18} style={{ opacity: 0.7 }} />\r\n              <span className=\"project-name\">ÂÖ®ÈÉ®È°πÁõÆ</span>\r\n            </motion.div>\r\n          </Link>\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Â∑•ÂÖ∑ */}\r\n      <div className=\"sidebar-section\">\r\n        <h3>Â∑•ÂÖ∑</h3>\r\n        <nav className=\"project-list\">\r\n          <Link href=\"/onboarding\">\r\n            <motion.div\r\n              className={`project-item ${pathname === '/onboarding' ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <Play size={18} style={{ opacity: 0.7 }} />\r\n              <span className=\"project-name\">Onboarding</span>\r\n            </motion.div>\r\n          </Link>\r\n          <Link href=\"/sort\">\r\n            <motion.div\r\n              className={`project-item ${pathname === '/sort' ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <ArrowUpDown size={18} style={{ opacity: 0.7 }} />\r\n              <span className=\"project-name\">ÊéíÂ∫è</span>\r\n            </motion.div>\r\n          </Link>\r\n          <Link href=\"/classify\">\r\n            <motion.div\r\n              className={`project-item ${pathname.startsWith('/classify') ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <Tags size={18} style={{ opacity: 0.7 }} />\r\n              <span className=\"project-name\">ÂàÜÁ±ª</span>\r\n            </motion.div>\r\n          </Link>\r\n          <Link href=\"/branch\">\r\n            <motion.div\r\n              className={`project-item ${pathname === '/branch' ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <GitBranch size={18} style={{ opacity: 0.7 }} />\r\n              <span className=\"project-name\">ÂàÜÊîØÊµÅÁ®ã</span>\r\n            </motion.div>\r\n          </Link>\r\n          <Link href=\"/store\">\r\n            <motion.div\r\n              className={`project-item ${pathname === '/store' ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <Store size={18} style={{ opacity: 0.7 }} />\r\n              <span className=\"project-name\">ÂïÜÂ∫óÂØπÊØî</span>\r\n            </motion.div>\r\n          </Link>\r\n          <Link href=\"/flow-lab\">\r\n            <motion.div\r\n              className={`project-item ${pathname === '/flow-lab' ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <FlaskConical size={18} style={{ opacity: 0.7, color: '#f59e0b' }} />\r\n              <span className=\"project-name\">Flow Lab</span>\r\n              <span style={{ fontSize: '10px', color: '#f59e0b', marginLeft: '4px' }}>ÂÆûÈ™å</span>\r\n            </motion.div>\r\n          </Link>\r\n          <Link href=\"/analysis/compare\">\r\n            <motion.div\r\n              className={`project-item ${pathname.startsWith('/analysis') ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <BarChart3 size={18} style={{ opacity: 0.7, color: '#ec4899' }} />\r\n              <span className=\"project-name\">Á´ûÂìÅÂàÜÊûê</span>\r\n              <span style={{ fontSize: '10px', color: '#ec4899', marginLeft: '4px' }}>NEW</span>\r\n            </motion.div>\r\n          </Link>\r\n          <Link href=\"/builder\">\r\n            <motion.div\r\n              className={`project-item ${pathname === '/builder' ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <Sparkles size={18} style={{ opacity: 0.7, color: '#a855f7' }} />\r\n              <span className=\"project-name\">ÊûÑÂª∫Âô®</span>\r\n              <span style={{ fontSize: '10px', color: '#a855f7', marginLeft: '4px' }}>NEW</span>\r\n            </motion.div>\r\n          </Link>\r\n          <Link href=\"/onboarding-demo\">\r\n            <motion.div\r\n              className={`project-item ${pathname === '/onboarding-demo' ? 'active' : ''}`}\r\n              whileHover={{ x: 2 }}\r\n              transition={{ duration: 0.15 }}\r\n            >\r\n              <Smartphone size={18} style={{ opacity: 0.7, color: '#ec4899' }} />\r\n              <span className=\"project-name\">VitaFlow Demo</span>\r\n              <span style={{ fontSize: '10px', color: '#ec4899', marginLeft: '4px' }}>üéØ</span>\r\n            </motion.div>\r\n          </Link>\r\n        </nav>\r\n      </div>\r\n\r\n      {/* È°πÁõÆÂàóË°® */}\r\n      <div className=\"sidebar-section\" style={{ flex: 1, overflow: 'auto', borderBottom: 'none' }}>\r\n        <h3>\r\n          È°πÁõÆ <span>{projects.length}</span>\r\n        </h3>\r\n        <div className=\"project-list\">\r\n          {loading ? (\r\n            <div className=\"project-item\" style={{ cursor: 'default' }}>\r\n              <span className=\"text-muted\">Âä†ËΩΩ‰∏≠...</span>\r\n            </div>\r\n          ) : (\r\n            <AnimatePresence>\r\n              {projects.map((project, index) => {\r\n                const isActive = currentProject === project.name\r\n                return (\r\n                  <Link href={`/project/${encodeURIComponent(project.name)}`} key={project.name}>\r\n                    <motion.div\r\n                      className={`project-item ${isActive ? 'active' : ''}`}\r\n                      initial={{ opacity: 0, x: -10 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: index * 0.02, duration: 0.2 }}\r\n                      whileHover={{ x: 2 }}\r\n                    >\r\n                      {/* È°πÁõÆ Logo */}\r\n                      <div\r\n                        className=\"project-logo\"\r\n                        style={{ \r\n                          backgroundColor: 'transparent',\r\n                          overflow: 'hidden',\r\n                          padding: 0,\r\n                        }}\r\n                      >\r\n                        <img\r\n                          src={getLogoUrl(project.name)}\r\n                          alt={project.display_name}\r\n                          width={24}\r\n                          height={24}\r\n                          style={{\r\n                            width: '100%',\r\n                            height: '100%',\r\n                            objectFit: 'cover',\r\n                            borderRadius: '6px',\r\n                          }}\r\n                          onError={(e) => {\r\n                            // Âä†ËΩΩÂ§±Ë¥•Êó∂ÊòæÁ§∫È¶ñÂ≠óÊØç\r\n                            const target = e.target as HTMLImageElement\r\n                            target.style.display = 'none'\r\n                            const parent = target.parentElement\r\n                            if (parent) {\r\n                              parent.style.backgroundColor = project.color\r\n                              parent.textContent = project.initial\r\n                            }\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      {/* È°πÁõÆÂêç */}\r\n                      <span className=\"project-name\">{project.display_name}</span>\r\n                      {/* Êù•Ê∫êÊ†áÁ≠æ */}\r\n                      {project.data_source && (\r\n                        <span\r\n                          className=\"text-xs\"\r\n                          style={{\r\n                            color: project.data_source === 'Mobbin' ? '#A78BFA' : '#34D399',\r\n                            opacity: 0.8,\r\n                            marginLeft: '4px',\r\n                          }}\r\n                        >\r\n                          {project.data_source === 'Mobbin' ? 'M' : 'S'}\r\n                        </span>\r\n                      )}\r\n                      {/* Êà™ÂõæÊï∞Èáè */}\r\n                      <span className=\"project-count\">{project.screen_count}</span>\r\n                    </motion.div>\r\n                  </Link>\r\n                )\r\n              })}\r\n            </AnimatePresence>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Â∫ïÈÉ®ËÆæÁΩÆ */}\r\n      <div className=\"sidebar-section\" style={{ borderTop: '1px solid var(--border-subtle)' }}>\r\n        <Link href=\"/settings\">\r\n          <motion.div\r\n            className={`project-item ${pathname === '/settings' ? 'active' : ''}`}\r\n            whileHover={{ x: 2 }}\r\n            transition={{ duration: 0.15 }}\r\n          >\r\n            <Settings size={18} style={{ opacity: 0.7 }} />\r\n            <span className=\"project-name\">ËÆæÁΩÆ</span>\r\n          </motion.div>\r\n        </Link>\r\n      </div>\r\n    </aside>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1208, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/layout/app-layout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { ReactNode } from 'react'\r\nimport { Sidebar } from './sidebar'\r\n\r\ninterface AppLayoutProps {\r\n  children: ReactNode\r\n}\r\n\r\nexport function AppLayout({ children }: AppLayoutProps) {\r\n  return (\r\n    <div className=\"app-layout\">\r\n      <Sidebar />\r\n      <main className=\"main-content\">{children}</main>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASO,SAAS,UAAU,EAAE,QAAQ,EAAkB;IACpD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,kJAAO;;;;;0BACR,8OAAC;gBAAK,WAAU;0BAAgB;;;;;;;;;;;;AAGtC"}},
    {"offset": {"line": 1245, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/layout/index.ts"],"sourcesContent":["export { Sidebar } from './sidebar'\r\nexport { AppLayout } from './app-layout'\r\n"],"names":[],"mappings":";AAAA;AACA"}},
    {"offset": {"line": 1254, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/PreviewPanel.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { ChevronLeft, ChevronRight, X, Maximize2 } from 'lucide-react'\r\nimport { getScreenshotUrl } from '@/lib/api'\r\nimport type { Screenshot } from '@/types'\r\n\r\ninterface PreviewPanelProps {\r\n  screenshot: Screenshot | null\r\n  projectName: string\r\n  currentIndex: number\r\n  total: number\r\n  onClose: () => void\r\n  onPrev: () => void\r\n  onNext: () => void\r\n  onboardingStart: number\r\n  onboardingEnd: number\r\n}\r\n\r\nexport function PreviewPanel({\r\n  screenshot,\r\n  projectName,\r\n  currentIndex,\r\n  total,\r\n  onClose,\r\n  onPrev,\r\n  onNext,\r\n  onboardingStart,\r\n  onboardingEnd,\r\n}: PreviewPanelProps) {\r\n  const isInOnboarding =\r\n    onboardingStart >= 0 &&\r\n    onboardingEnd >= 0 &&\r\n    currentIndex >= onboardingStart &&\r\n    currentIndex <= onboardingEnd\r\n\r\n  const isStart = currentIndex === onboardingStart\r\n  const isEnd = currentIndex === onboardingEnd\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '320px',\r\n        background: '#0a0a0a',\r\n        borderLeft: '1px solid rgba(255,255,255,0.06)',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flexShrink: 0,\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <div\r\n        style={{\r\n          padding: '12px 16px',\r\n          background: '#111111',\r\n          borderBottom: '1px solid rgba(255,255,255,0.06)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n        }}\r\n      >\r\n        <span style={{ fontSize: '13px', fontWeight: 600, color: '#fff' }}>\r\n          È¢ÑËßà\r\n        </span>\r\n        {screenshot && (\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              background: 'none',\r\n              border: 'none',\r\n              color: '#6b7280',\r\n              cursor: 'pointer',\r\n              padding: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n            }}\r\n          >\r\n            <X size={16} />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Image */}\r\n      <div\r\n        style={{\r\n          flex: 1,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          padding: '8px',\r\n          overflow: 'hidden',\r\n          minHeight: 0, // ÂÖ≥ÈîÆÔºöÂÖÅËÆ∏ flex Â≠êÂÖÉÁ¥†Êî∂Áº©\r\n        }}\r\n      >\r\n        <AnimatePresence mode=\"wait\">\r\n          {screenshot ? (\r\n            <motion.div\r\n              key={screenshot.filename}\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n              transition={{ duration: 0.15 }}\r\n              style={{\r\n                width: '100%',\r\n                height: '100%',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n              }}\r\n            >\r\n              <img\r\n                src={getScreenshotUrl(projectName, screenshot.filename)}\r\n                alt={screenshot.filename}\r\n                style={{\r\n                  width: '100%',\r\n                  height: '100%',\r\n                  objectFit: 'contain',\r\n                  borderRadius: '12px',\r\n                  boxShadow: '0 8px 32px rgba(0,0,0,0.5)',\r\n                }}\r\n              />\r\n            </motion.div>\r\n          ) : (\r\n            <span style={{ color: '#6b7280', fontSize: '13px' }}>\r\n              ÁÇπÂáªÂç°ÁâáÊü•ÁúãÂ§ßÂõæ\r\n            </span>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n\r\n      {/* Info */}\r\n      {screenshot && (\r\n        <div\r\n          style={{\r\n            padding: '12px 16px',\r\n            background: '#111111',\r\n            borderTop: '1px solid rgba(255,255,255,0.06)',\r\n          }}\r\n        >\r\n          {/* Filename */}\r\n          <div\r\n            style={{\r\n              fontSize: '12px',\r\n              color: '#fff',\r\n              fontWeight: 500,\r\n              marginBottom: '8px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px',\r\n            }}\r\n          >\r\n            <span style={{ fontFamily: 'var(--font-mono)' }}>\r\n              #{currentIndex + 1}\r\n            </span>\r\n            <span style={{ color: '#6b7280' }}>{screenshot.filename}</span>\r\n          </div>\r\n\r\n          {/* Onboarding Status */}\r\n          {isInOnboarding && (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                gap: '6px',\r\n                marginBottom: '8px',\r\n              }}\r\n            >\r\n              {isStart && (\r\n                <span\r\n                  style={{\r\n                    padding: '2px 8px',\r\n                    background: '#22c55e',\r\n                    color: '#fff',\r\n                    borderRadius: '4px',\r\n                    fontSize: '10px',\r\n                    fontWeight: 600,\r\n                  }}\r\n                >\r\n                  START\r\n                </span>\r\n              )}\r\n              {isEnd && (\r\n                <span\r\n                  style={{\r\n                    padding: '2px 8px',\r\n                    background: '#f59e0b',\r\n                    color: '#fff',\r\n                    borderRadius: '4px',\r\n                    fontSize: '10px',\r\n                    fontWeight: 600,\r\n                  }}\r\n                >\r\n                  END\r\n                </span>\r\n              )}\r\n              {!isStart && !isEnd && (\r\n                <span\r\n                  style={{\r\n                    padding: '2px 8px',\r\n                    background: 'rgba(34, 197, 94, 0.2)',\r\n                    color: '#22c55e',\r\n                    borderRadius: '4px',\r\n                    fontSize: '10px',\r\n                    fontWeight: 500,\r\n                  }}\r\n                >\r\n                  Onboarding\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Navigation */}\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginTop: '8px',\r\n            }}\r\n          >\r\n            <button\r\n              onClick={onPrev}\r\n              disabled={currentIndex === 0}\r\n              style={{\r\n                background: 'rgba(255,255,255,0.06)',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                padding: '6px 12px',\r\n                color: currentIndex === 0 ? '#4b5563' : '#fff',\r\n                cursor: currentIndex === 0 ? 'not-allowed' : 'pointer',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '4px',\r\n                fontSize: '12px',\r\n              }}\r\n            >\r\n              <ChevronLeft size={14} />\r\n              ‰∏ä‰∏ÄÂº†\r\n            </button>\r\n\r\n            <span style={{ color: '#6b7280', fontSize: '12px' }}>\r\n              {currentIndex + 1} / {total}\r\n            </span>\r\n\r\n            <button\r\n              onClick={onNext}\r\n              disabled={currentIndex === total - 1}\r\n              style={{\r\n                background: 'rgba(255,255,255,0.06)',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                padding: '6px 12px',\r\n                color: currentIndex === total - 1 ? '#4b5563' : '#fff',\r\n                cursor: currentIndex === total - 1 ? 'not-allowed' : 'pointer',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '4px',\r\n                fontSize: '12px',\r\n              }}\r\n            >\r\n              ‰∏ã‰∏ÄÂº†\r\n              <ChevronRight size={14} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1622, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/PendingPanel.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useCallback, useRef } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport {\r\n  getPendingScreenshots,\r\n  getPendingThumbnailUrl,\r\n  importScreenshot,\r\n  getApowersoftConfig,\r\n  saveApowersoftConfig,\r\n  clearPendingScreenshots,\r\n  type PendingScreenshot,\r\n  type ApowersoftConfig,\r\n} from '@/lib/api'\r\nimport {\r\n  FolderOpen,\r\n  Settings,\r\n  RefreshCw,\r\n  Check,\r\n  ImageIcon,\r\n  Trash2,\r\n  Zap,\r\n} from 'lucide-react'\r\nimport { toast } from 'sonner'\r\n\r\ninterface PendingPanelProps {\r\n  selectedProject: string | null\r\n  onImportSuccess: () => void\r\n  onAppendScreenshot?: (filename: string) => void // Ëá™Âä®ÂØºÂÖ•Êó∂ËøΩÂä†Êà™ÂõæÂà∞Áà∂ÁªÑ‰ª∂\r\n  externalImportedFile?: string | null // Â§ñÈÉ®ÂØºÂÖ•ÁöÑÊñá‰ª∂ÂêçÔºàÈÄöËøáÊãñÊãΩÂØºÂÖ•Ôºâ\r\n}\r\n\r\nexport function PendingPanel({ selectedProject, onImportSuccess, onAppendScreenshot, externalImportedFile }: PendingPanelProps) {\r\n  const [screenshots, setScreenshots] = useState<PendingScreenshot[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [config, setConfig] = useState<ApowersoftConfig | null>(null)\r\n  const [showConfig, setShowConfig] = useState(false)\r\n  const [configPath, setConfigPath] = useState('')\r\n  const [saving, setSaving] = useState(false)\r\n  const [importing, setImporting] = useState<string | null>(null)\r\n  const [lastImported, setLastImported] = useState<string | null>(null)\r\n  const [importedFiles, setImportedFiles] = useState<Set<string>>(new Set()) // Â∑≤ÂØºÂÖ•ÁöÑÊñá‰ª∂ÂàóË°®\r\n  \r\n  // Ëá™Âä®ÂØºÂÖ•Ê®°Âºè\r\n  const [autoImport, setAutoImport] = useState(false)\r\n  const knownFilesRef = useRef<Set<string>>(new Set()) // ‰ΩøÁî® ref ÈÅøÂÖç stale closure\r\n  const isAutoImportingRef = useRef(false) // ÈîÅÊú∫Âà∂Èò≤Ê≠¢Âπ∂Âèë\r\n  const selectedProjectRef = useRef(selectedProject) // ‰øùÊåÅÊúÄÊñ∞ÂºïÁî®\r\n\r\n  // ÂêåÊ≠• selectedProject Âà∞ ref\r\n  useEffect(() => {\r\n    selectedProjectRef.current = selectedProject\r\n    // ÂàáÊç¢È°πÁõÆÊó∂ÂÖ≥Èó≠Ëá™Âä®ÂØºÂÖ•\r\n    if (!selectedProject) {\r\n      setAutoImport(false)\r\n    }\r\n  }, [selectedProject])\r\n\r\n  // Â§ÑÁêÜÂ§ñÈÉ®ÂØºÂÖ•Ôºà‰ªéÊãñÊãΩÂØºÂÖ•Ôºâ\r\n  useEffect(() => {\r\n    if (externalImportedFile) {\r\n      setImportedFiles(prev => new Set(prev).add(externalImportedFile))\r\n    }\r\n  }, [externalImportedFile])\r\n\r\n  // Ëá™Âä®ÂØºÂÖ•Êñ∞Êà™Âõæ\r\n  const autoImportNewFiles = useCallback(async (newScreenshots: PendingScreenshot[]) => {\r\n    const currentProject = selectedProjectRef.current\r\n    if (!currentProject || isAutoImportingRef.current) return\r\n    \r\n    // Ê£ÄÊµãÊñ∞Êñá‰ª∂\r\n    const newFiles = newScreenshots.filter(s => !knownFilesRef.current.has(s.filename))\r\n    if (newFiles.length === 0) return\r\n    \r\n    // ÊåâÂàõÂª∫Êó∂Èó¥ÊéíÂ∫èÔºàÁ°Æ‰øùÈ°∫Â∫èÊ≠£Á°ÆÔºâ\r\n    const sortedNewFiles = newFiles.sort((a, b) => \r\n      new Date(a.created_at).getTime() - new Date(b.created_at).getTime()\r\n    )\r\n    \r\n    isAutoImportingRef.current = true\r\n    \r\n    try {\r\n      for (const file of sortedNewFiles) {\r\n        // ÂÜçÊ¨°Ê£ÄÊü•È°πÁõÆÊòØÂê¶ÊîπÂèò\r\n        if (selectedProjectRef.current !== currentProject) break\r\n        \r\n        const result = await importScreenshot(currentProject, file.filename)\r\n        if (result.success && result.new_filename) {\r\n          // ‰ΩøÁî®Áà∂ÁªÑ‰ª∂ÂõûË∞ÉËøΩÂä†Êà™ÂõæÔºåÁ°Æ‰øù‰ΩøÁî®Âêå‰∏Ä‰∏™ store ÂÆû‰æã\r\n          if (onAppendScreenshot) {\r\n            onAppendScreenshot(result.new_filename)\r\n          }\r\n          \r\n          setImportedFiles(prev => new Set(prev).add(file.filename))\r\n          setLastImported(result.new_filename)\r\n          toast.success(`Ëá™Âä®ÂØºÂÖ• ${result.new_filename}`, { duration: 1500 })\r\n        }\r\n      }\r\n    } finally {\r\n      isAutoImportingRef.current = false\r\n    }\r\n  }, [onAppendScreenshot])\r\n\r\n  // Âä†ËΩΩÂæÖÂ§ÑÁêÜÊà™Âõæ\r\n  const loadPending = useCallback(async () => {\r\n    setLoading(true)\r\n    try {\r\n      const data = await getPendingScreenshots()\r\n      const currentFiles = new Set(data.screenshots.map(s => s.filename))\r\n      \r\n      // Ëá™Âä®ÂØºÂÖ•Ê®°ÂºèÔºöÊ£ÄÊµãÂπ∂ÂØºÂÖ•Êñ∞Êñá‰ª∂\r\n      if (autoImport && selectedProjectRef.current) {\r\n        await autoImportNewFiles(data.screenshots)\r\n      }\r\n      \r\n      // Êõ¥Êñ∞Â∑≤Áü•Êñá‰ª∂ÂàóË°®\r\n      knownFilesRef.current = currentFiles\r\n      setScreenshots(data.screenshots)\r\n    } catch (error) {\r\n      console.error('Failed to load pending screenshots:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [autoImport, autoImportNewFiles])\r\n\r\n  // Âä†ËΩΩÈÖçÁΩÆ\r\n  const loadConfig = useCallback(async () => {\r\n    try {\r\n      const data = await getApowersoftConfig()\r\n      setConfig(data)\r\n      setConfigPath(data.path || '')\r\n    } catch (error) {\r\n      console.error('Failed to load config:', error)\r\n    }\r\n  }, [])\r\n\r\n  // ÂàùÂßãÂåñ\r\n  useEffect(() => {\r\n    loadPending()\r\n    loadConfig()\r\n    \r\n    // ÊØè 1 ÁßíÂà∑Êñ∞‰∏ÄÊ¨°\r\n    const interval = setInterval(loadPending, 1000)\r\n    return () => clearInterval(interval)\r\n  }, [loadPending, loadConfig])\r\n  \r\n  // ÂàáÊç¢Ëá™Âä®ÂØºÂÖ•Ê®°Âºè\r\n  const toggleAutoImport = useCallback(() => {\r\n    if (!selectedProject) {\r\n      toast.error('ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™È°πÁõÆ')\r\n      return\r\n    }\r\n    \r\n    setAutoImport(prev => {\r\n      const newValue = !prev\r\n      if (newValue) {\r\n        // ÂºÄÂêØÊó∂ÔºåËÆ∞ÂΩïÂΩìÂâçÊâÄÊúâÊñá‰ª∂‰∏∫Â∑≤Áü•Ôºà‰∏çÂØºÂÖ•ÊóßÊñá‰ª∂Ôºâ\r\n        knownFilesRef.current = new Set(screenshots.map(s => s.filename))\r\n        toast.success('Ëá™Âä®ÂØºÂÖ•Â∑≤ÂºÄÂêØÔºöÊñ∞Êà™ÂõæÂ∞ÜËá™Âä®ËøΩÂä†Âà∞È°πÁõÆÊú´Â∞æ')\r\n      } else {\r\n        toast.info('Ëá™Âä®ÂØºÂÖ•Â∑≤ÂÖ≥Èó≠')\r\n      }\r\n      return newValue\r\n    })\r\n  }, [selectedProject, screenshots])\r\n\r\n  // ‰øùÂ≠òÈÖçÁΩÆ\r\n  const handleSaveConfig = async () => {\r\n    setSaving(true)\r\n    try {\r\n      await saveApowersoftConfig(configPath, config?.auto_import || false)\r\n      await loadConfig()\r\n      await loadPending()\r\n      setShowConfig(false)\r\n    } catch (error) {\r\n      console.error('Failed to save config:', error)\r\n      toast.error('‰øùÂ≠òÈÖçÁΩÆÂ§±Ë¥•: ' + (error as Error).message)\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  // Ê∏ÖÈô§ÊâÄÊúâÂæÖÂ§ÑÁêÜÊà™Âõæ\r\n  const handleClearAll = async () => {\r\n    if (screenshots.length === 0) {\r\n      toast.info('Ê≤°ÊúâÈúÄË¶ÅÊ∏ÖÈô§ÁöÑÊà™Âõæ')\r\n      return\r\n    }\r\n    \r\n    if (!confirm(`Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÂÖ®ÈÉ® ${screenshots.length} Âº†ÂæÖÂ§ÑÁêÜÊà™ÂõæÂêóÔºü\\n\\nÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºÅ`)) {\r\n      return\r\n    }\r\n    \r\n    try {\r\n      const result = await clearPendingScreenshots()\r\n      if (result.success) {\r\n        toast.success(result.message)\r\n        setImportedFiles(new Set()) // Ê∏ÖÁ©∫Â∑≤ÂØºÂÖ•Ê†áËÆ∞\r\n        await loadPending()\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to clear screenshots:', error)\r\n      toast.error('Ê∏ÖÈô§Â§±Ë¥•: ' + (error as Error).message)\r\n    }\r\n  }\r\n\r\n  // ÂØºÂÖ•Êà™Âõæ\r\n  const handleImport = async (filename: string) => {\r\n    if (!selectedProject) {\r\n      toast.error('ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™È°πÁõÆ')\r\n      return\r\n    }\r\n\r\n    setImporting(filename)\r\n    try {\r\n      const result = await importScreenshot(selectedProject, filename)\r\n      if (result.success) {\r\n        // ÊòæÁ§∫ÊàêÂäüÊèêÁ§∫\r\n        setLastImported(result.new_filename || filename)\r\n        toast.success(`Â∑≤ÂØºÂÖ• ${result.new_filename || filename}`)\r\n        setTimeout(() => setLastImported(null), 3000)\r\n        \r\n        // Ê†áËÆ∞‰∏∫Â∑≤ÂØºÂÖ•\r\n        setImportedFiles(prev => new Set(prev).add(filename))\r\n        \r\n        await loadPending()\r\n        onImportSuccess()\r\n      } else {\r\n        toast.error('ÂØºÂÖ•Â§±Ë¥•: ' + result.message)\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to import:', error)\r\n      toast.error('ÂØºÂÖ•Â§±Ë¥•: ' + (error as Error).message)\r\n    } finally {\r\n      setImporting(null)\r\n    }\r\n  }\r\n\r\n  // Â§ÑÁêÜÊãñÊãΩ\r\n  const handleDragStart = (e: React.DragEvent, screenshot: PendingScreenshot) => {\r\n    e.dataTransfer.setData('application/x-pending-screenshot', JSON.stringify({\r\n      filename: screenshot.filename,\r\n      type: 'pending',\r\n    }))\r\n    e.dataTransfer.effectAllowed = 'copy'\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        background: 'var(--bg-card)',\r\n        borderRadius: '8px',\r\n        overflow: 'hidden',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: '100%',\r\n      }}\r\n    >\r\n      {/* Ê†áÈ¢òÊ†è */}\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          padding: '12px 16px',\r\n          borderBottom: '1px solid var(--border-default)',\r\n        }}\r\n      >\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n          <ImageIcon size={16} style={{ color: 'var(--text-muted)' }} />\r\n          <span style={{ fontWeight: 500, fontSize: '13px' }}>\r\n            ÂæÖÂ§ÑÁêÜ Pending\r\n          </span>\r\n          <span\r\n            style={{\r\n              padding: '2px 6px',\r\n              background: 'var(--bg-secondary)',\r\n              borderRadius: '10px',\r\n              fontSize: '11px',\r\n              color: 'var(--text-muted)',\r\n            }}\r\n          >\r\n            {screenshots.length}\r\n          </span>\r\n        </div>\r\n\r\n        <div style={{ display: 'flex', gap: '4px' }}>\r\n          {/* Ëá™Âä®ÂØºÂÖ•ÂºÄÂÖ≥ */}\r\n          <button\r\n            onClick={toggleAutoImport}\r\n            disabled={!selectedProject}\r\n            style={{\r\n              padding: '4px',\r\n              background: autoImport ? 'var(--warning)' : 'transparent',\r\n              border: 'none',\r\n              color: autoImport ? '#000' : (selectedProject ? 'var(--text-muted)' : 'var(--text-muted)'),\r\n              cursor: selectedProject ? 'pointer' : 'not-allowed',\r\n              borderRadius: '4px',\r\n              opacity: selectedProject ? 1 : 0.5,\r\n              transition: 'all 0.2s',\r\n            }}\r\n            title={autoImport ? 'ÂÖ≥Èó≠Ëá™Âä®ÂØºÂÖ•' : 'ÂºÄÂêØËá™Âä®ÂØºÂÖ•ÔºàÊñ∞Êà™ÂõæËá™Âä®ËøΩÂä†Âà∞Êú´Â∞æÔºâ'}\r\n          >\r\n            <Zap size={14} />\r\n          </button>\r\n          <button\r\n            onClick={loadPending}\r\n            disabled={loading}\r\n            style={{\r\n              padding: '4px',\r\n              background: 'transparent',\r\n              border: 'none',\r\n              color: 'var(--text-muted)',\r\n              cursor: 'pointer',\r\n              borderRadius: '4px',\r\n            }}\r\n            title=\"Âà∑Êñ∞\"\r\n          >\r\n            <RefreshCw size={14} className={loading ? 'animate-spin' : ''} />\r\n          </button>\r\n          <button\r\n            onClick={handleClearAll}\r\n            disabled={screenshots.length === 0}\r\n            style={{\r\n              padding: '4px',\r\n              background: 'transparent',\r\n              border: 'none',\r\n              color: screenshots.length > 0 ? 'var(--error)' : 'var(--text-muted)',\r\n              cursor: screenshots.length > 0 ? 'pointer' : 'not-allowed',\r\n              borderRadius: '4px',\r\n              opacity: screenshots.length === 0 ? 0.5 : 1,\r\n            }}\r\n            title=\"Ê∏ÖÈô§ÂÖ®ÈÉ®\"\r\n          >\r\n            <Trash2 size={14} />\r\n          </button>\r\n          <button\r\n            onClick={() => setShowConfig(!showConfig)}\r\n            style={{\r\n              padding: '4px',\r\n              background: showConfig ? 'var(--bg-secondary)' : 'transparent',\r\n              border: 'none',\r\n              color: 'var(--text-muted)',\r\n              cursor: 'pointer',\r\n              borderRadius: '4px',\r\n            }}\r\n            title=\"ÈÖçÁΩÆ\"\r\n          >\r\n            <Settings size={14} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ÈÖçÁΩÆÈù¢Êùø */}\r\n      <AnimatePresence>\r\n        {showConfig && (\r\n          <motion.div\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: 'auto' }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            style={{\r\n              padding: '12px 16px',\r\n              borderBottom: '1px solid var(--border-default)',\r\n              background: 'var(--bg-secondary)',\r\n            }}\r\n          >\r\n            <div style={{ marginBottom: '8px', fontSize: '12px', color: 'var(--text-muted)' }}>\r\n              ÂÇ≤ËΩØÊäïÂ±èÊà™ÂõæÁõÆÂΩï\r\n            </div>\r\n            {/* Êîπ‰∏∫‰∏ä‰∏ãÂ∏ÉÂ±ÄÔºåÈÅøÂÖç‰øùÂ≠òÊåâÈíÆË¢´Êå§Êéâ */}\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n              <input\r\n                type=\"text\"\r\n                value={configPath}\r\n                onChange={(e) => setConfigPath(e.target.value)}\r\n                placeholder=\"C:\\Users\\...\\Pictures\\Apowersoft\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 10px',\r\n                  background: 'var(--bg-primary)',\r\n                  border: '1px solid var(--border-default)',\r\n                  borderRadius: '4px',\r\n                  color: 'var(--text-primary)',\r\n                  fontSize: '12px',\r\n                  boxSizing: 'border-box',\r\n                }}\r\n              />\r\n              <button\r\n                onClick={handleSaveConfig}\r\n                disabled={saving}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  background: 'var(--success)',\r\n                  border: 'none',\r\n                  borderRadius: '4px',\r\n                  color: '#fff',\r\n                  fontSize: '12px',\r\n                  cursor: 'pointer',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '4px',\r\n                }}\r\n              >\r\n                {saving ? <RefreshCw size={12} className=\"animate-spin\" /> : <Check size={12} />}\r\n                ‰øùÂ≠òÈÖçÁΩÆ\r\n              </button>\r\n            </div>\r\n            {config?.detected && (\r\n              <div style={{ marginTop: '6px', fontSize: '11px', color: 'var(--success)' }}>\r\n                ‚úì Â∑≤Ëá™Âä®Ê£ÄÊµãÂà∞ÂÇ≤ËΩØÁõÆÂΩï\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Êà™ÂõæÂàóË°® */}\r\n      <div\r\n        style={{\r\n          padding: '12px',\r\n          flex: 1,\r\n          overflowY: 'auto',\r\n        }}\r\n      >\r\n        {loading && screenshots.length === 0 ? (\r\n          <div style={{ textAlign: 'center', padding: '20px', color: 'var(--text-muted)', fontSize: '12px' }}>\r\n            Âä†ËΩΩ‰∏≠...\r\n          </div>\r\n        ) : screenshots.length === 0 ? (\r\n          <div style={{ textAlign: 'center', padding: '20px', color: 'var(--text-muted)', fontSize: '12px' }}>\r\n            <FolderOpen size={24} style={{ marginBottom: '8px', opacity: 0.5 }} />\r\n            <div>ÊöÇÊó†ÂæÖÂ§ÑÁêÜÊà™Âõæ</div>\r\n            {!config?.path && (\r\n              <div style={{ marginTop: '4px', fontSize: '11px' }}>\r\n                ËØ∑ÂÖàÈÖçÁΩÆÂÇ≤ËΩØÊà™ÂõæÁõÆÂΩï\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(2, 1fr)',\r\n              gap: '10px',\r\n            }}\r\n          >\r\n            {screenshots.slice(0, 12).map((screenshot) => {\r\n              const isImported = importedFiles.has(screenshot.filename)\r\n              return (\r\n              <div\r\n                key={screenshot.filename}\r\n                draggable={!!selectedProject}\r\n                onDragStart={(e) => handleDragStart(e, screenshot)}\r\n                style={{\r\n                  aspectRatio: '9/16',\r\n                  background: 'var(--bg-secondary)',\r\n                  borderRadius: '4px',\r\n                  overflow: 'hidden',\r\n                  cursor: selectedProject ? 'grab' : 'not-allowed',\r\n                  position: 'relative',\r\n                  opacity: importing === screenshot.filename ? 0.5 : isImported ? 0.6 : 1,\r\n                  transition: 'transform 0.15s, box-shadow 0.15s',\r\n                  border: isImported ? '2px solid var(--success)' : 'none',\r\n                }}\r\n                title={isImported ? 'Â∑≤ÂØºÂÖ•' : (selectedProject ? `ÊãñÊãΩÂà∞Âè≥‰æßÊéíÂ∫èÂå∫ÂüüÂØºÂÖ•` : 'ËØ∑ÂÖàÈÄâÊã©È°πÁõÆ')}\r\n                onMouseEnter={(e) => {\r\n                  if (selectedProject) {\r\n                    e.currentTarget.style.transform = 'scale(1.05)'\r\n                    e.currentTarget.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)'\r\n                  }\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1)'\r\n                  e.currentTarget.style.boxShadow = 'none'\r\n                }}\r\n              >\r\n                <img\r\n                  src={getPendingThumbnailUrl(screenshot.filename)}\r\n                  alt={screenshot.filename}\r\n                  style={{\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    objectFit: 'cover',\r\n                  }}\r\n                  loading=\"lazy\"\r\n                  onError={(e) => {\r\n                    const target = e.target as HTMLImageElement\r\n                    target.style.display = 'none'\r\n                    // ÊòæÁ§∫Âç†‰ΩçÂõæÊ†á\r\n                    const parent = target.parentElement\r\n                    if (parent && !parent.querySelector('.img-placeholder')) {\r\n                      const placeholder = document.createElement('div')\r\n                      placeholder.className = 'img-placeholder'\r\n                      placeholder.style.cssText = 'position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:var(--text-muted);'\r\n                      placeholder.innerHTML = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/><circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"/><polyline points=\"21,15 16,10 5,21\"/></svg>'\r\n                      parent.appendChild(placeholder)\r\n                    }\r\n                  }}\r\n                />\r\n                {importing === screenshot.filename && (\r\n                  <div\r\n                    style={{\r\n                      position: 'absolute',\r\n                      inset: 0,\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      background: 'rgba(0,0,0,0.5)',\r\n                    }}\r\n                  >\r\n                    <RefreshCw size={16} className=\"animate-spin\" style={{ color: '#fff' }} />\r\n                  </div>\r\n                )}\r\n                {/* Â∑≤ÂØºÂÖ•Ê†áËÆ∞ */}\r\n                {isImported && !importing && (\r\n                  <div\r\n                    style={{\r\n                      position: 'absolute',\r\n                      top: '4px',\r\n                      right: '4px',\r\n                      background: 'var(--success)',\r\n                      borderRadius: '50%',\r\n                      width: '20px',\r\n                      height: '20px',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                    }}\r\n                  >\r\n                    <Check size={12} style={{ color: '#fff' }} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )})}\r\n          </div>\r\n        )}\r\n\r\n        {screenshots.length > 12 && (\r\n          <div\r\n            style={{\r\n              textAlign: 'center',\r\n              marginTop: '8px',\r\n              fontSize: '11px',\r\n              color: 'var(--text-muted)',\r\n            }}\r\n          >\r\n            ËøòÊúâ {screenshots.length - 12} Âº†Êà™Âõæ...\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Â∫ïÈÉ®ÊèêÁ§∫ */}\r\n        <div\r\n          style={{\r\n            padding: '8px 12px',\r\n            borderTop: '1px solid var(--border-default)',\r\n            fontSize: '11px',\r\n          color: autoImport ? 'var(--warning)' : (lastImported ? 'var(--success)' : 'var(--text-muted)'),\r\n            textAlign: 'center',\r\n            transition: 'color 0.2s',\r\n          background: autoImport ? 'rgba(251, 191, 36, 0.1)' : 'transparent',\r\n          }}\r\n        >\r\n        {autoImport ? (\r\n          <>‚ö° Ëá™Âä®ÂØºÂÖ•‰∏≠... Êà™ÂõæÂ∞ÜËá™Âä®ËøΩÂä†</>\r\n        ) : lastImported ? (\r\n            <>‚úì Â∑≤ÂØºÂÖ• {lastImported}</>\r\n          ) : selectedProject ? (\r\n          <>ÊãñÊãΩÂà∞Âè≥‰æßÂØºÂÖ• Êàñ ÁÇπÂáª ‚ö° ÂºÄÂêØËá™Âä®ÂØºÂÖ•</>\r\n          ) : (\r\n            <>ËØ∑ÂÖàÈÄâÊã©È°πÁõÆ</>\r\n          )}\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PendingPanel\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2414, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/StatusBar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Play, Flag } from 'lucide-react'\r\n\r\ninterface StatusBarProps {\r\n  projectName: string\r\n  total: number\r\n  selected: number\r\n  moved: number\r\n  onboardingStart: number\r\n  onboardingEnd: number\r\n}\r\n\r\nexport function StatusBar({\r\n  projectName,\r\n  total,\r\n  selected,\r\n  moved,\r\n  onboardingStart,\r\n  onboardingEnd,\r\n}: StatusBarProps) {\r\n  const hasOnboarding = onboardingStart >= 0 && onboardingEnd >= 0\r\n  const onboardingCount = hasOnboarding ? onboardingEnd - onboardingStart + 1 : 0\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '8px 20px',\r\n        background: '#0a0a0a',\r\n        borderBottom: '1px solid rgba(255,255,255,0.04)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '24px',\r\n        fontSize: '12px',\r\n        color: '#6b7280',\r\n      }}\r\n    >\r\n      {/* Project Name */}\r\n      <span>\r\n        <strong style={{ color: '#fff' }}>{projectName}</strong>\r\n      </span>\r\n\r\n      {/* Stats */}\r\n      <div style={{ display: 'flex', gap: '16px' }}>\r\n        <span>\r\n          ÊÄªÊï∞: <span style={{ color: '#fff' }}>{total}</span>\r\n        </span>\r\n        {selected > 0 && (\r\n          <span>\r\n            ÈÄâ‰∏≠: <span style={{ color: '#fff' }}>{selected}</span>\r\n          </span>\r\n        )}\r\n        {moved > 0 && (\r\n          <span>\r\n            Â∑≤ÁßªÂä®: <span style={{ color: '#9ca3af' }}>{moved}</span>\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {/* Onboarding Range */}\r\n      {hasOnboarding && (\r\n        <div\r\n          style={{\r\n            marginLeft: 'auto',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n          }}\r\n        >\r\n          <span style={{ color: '#22c55e', fontWeight: 500 }}>Onboarding</span>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '4px',\r\n              background: 'rgba(34, 197, 94, 0.1)',\r\n              padding: '4px 8px',\r\n              borderRadius: '4px',\r\n            }}\r\n          >\r\n            <Play size={10} style={{ color: '#22c55e' }} />\r\n            <span style={{ color: '#22c55e' }}>#{onboardingStart + 1}</span>\r\n            <span style={{ color: '#6b7280' }}>‚Üí</span>\r\n            <Flag size={10} style={{ color: '#f59e0b' }} />\r\n            <span style={{ color: '#f59e0b' }}>#{onboardingEnd + 1}</span>\r\n            <span style={{ color: '#9ca3af', marginLeft: '4px' }}>\r\n              ({onboardingCount}Âº†)\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAFA;;;AAaO,SAAS,UAAU,EACxB,WAAW,EACX,KAAK,EACL,QAAQ,EACR,KAAK,EACL,eAAe,EACf,aAAa,EACE;IACf,MAAM,gBAAgB,mBAAmB,KAAK,iBAAiB;IAC/D,MAAM,kBAAkB,gBAAgB,gBAAgB,kBAAkB,IAAI;IAE9E,qBACE,8OAAC;QACC,OAAO;YACL,SAAS;YACT,YAAY;YACZ,cAAc;YACd,SAAS;YACT,YAAY;YACZ,KAAK;YACL,UAAU;YACV,OAAO;QACT;;0BAGA,8OAAC;0BACC,cAAA,8OAAC;oBAAO,OAAO;wBAAE,OAAO;oBAAO;8BAAI;;;;;;;;;;;0BAIrC,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,KAAK;gBAAO;;kCACzC,8OAAC;;4BAAK;0CACA,8OAAC;gCAAK,OAAO;oCAAE,OAAO;gCAAO;0CAAI;;;;;;;;;;;;oBAEtC,WAAW,mBACV,8OAAC;;4BAAK;0CACA,8OAAC;gCAAK,OAAO;oCAAE,OAAO;gCAAO;0CAAI;;;;;;;;;;;;oBAGxC,QAAQ,mBACP,8OAAC;;4BAAK;0CACC,8OAAC;gCAAK,OAAO;oCAAE,OAAO;gCAAU;0CAAI;;;;;;;;;;;;;;;;;;YAM9C,+BACC,8OAAC;gBACC,OAAO;oBACL,YAAY;oBACZ,SAAS;oBACT,YAAY;oBACZ,KAAK;gBACP;;kCAEA,8OAAC;wBAAK,OAAO;4BAAE,OAAO;4BAAW,YAAY;wBAAI;kCAAG;;;;;;kCACpD,8OAAC;wBACC,OAAO;4BACL,SAAS;4BACT,YAAY;4BACZ,KAAK;4BACL,YAAY;4BACZ,SAAS;4BACT,cAAc;wBAChB;;0CAEA,8OAAC,0MAAI;gCAAC,MAAM;gCAAI,OAAO;oCAAE,OAAO;gCAAU;;;;;;0CAC1C,8OAAC;gCAAK,OAAO;oCAAE,OAAO;gCAAU;;oCAAG;oCAAE,kBAAkB;;;;;;;0CACvD,8OAAC;gCAAK,OAAO;oCAAE,OAAO;gCAAU;0CAAG;;;;;;0CACnC,8OAAC,0MAAI;gCAAC,MAAM;gCAAI,OAAO;oCAAE,OAAO;gCAAU;;;;;;0CAC1C,8OAAC;gCAAK,OAAO;oCAAE,OAAO;gCAAU;;oCAAG;oCAAE,gBAAgB;;;;;;;0CACrD,8OAAC;gCAAK,OAAO;oCAAE,OAAO;oCAAW,YAAY;gCAAM;;oCAAG;oCAClD;oCAAgB;;;;;;;;;;;;;;;;;;;;;;;;;AAOhC"}},
    {"offset": {"line": 2647, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/ShortcutsHint.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { Keyboard, ChevronUp, ChevronDown } from 'lucide-react'\r\n\r\nconst shortcuts = [\r\n  { key: 'Ctrl+A', action: 'ÂÖ®ÈÄâ' },\r\n  { key: 'Delete', action: 'Âà†Èô§ÈÄâ‰∏≠' },\r\n  { key: 'Ctrl+Z', action: 'Êí§ÈîÄ' },\r\n  { key: '‚Üê ‚Üí', action: 'ÂØºËà™' },\r\n  { key: 'Esc', action: 'ÂèñÊ∂àÈÄâÊã©' },\r\n  { key: 'ÊãñÊãΩ', action: 'ÊéíÂ∫è/ÊèíÂÖ•' },\r\n]\r\n\r\nexport function ShortcutsHint() {\r\n  const [expanded, setExpanded] = useState(false)\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: 'fixed',\r\n        bottom: '20px',\r\n        left: '260px', // ÈÅøÂºÄ‰æßËæπÊ†è\r\n        zIndex: 100,\r\n      }}\r\n    >\r\n      <motion.div\r\n        initial={false}\r\n        animate={{\r\n          height: expanded ? 'auto' : '36px',\r\n        }}\r\n        style={{\r\n          background: '#111111',\r\n          border: '1px solid rgba(255,255,255,0.1)',\r\n          borderRadius: '8px',\r\n          overflow: 'hidden',\r\n          boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\r\n        }}\r\n      >\r\n        {/* Toggle Button */}\r\n        <button\r\n          onClick={() => setExpanded(!expanded)}\r\n          style={{\r\n            width: '100%',\r\n            padding: '8px 12px',\r\n            background: 'none',\r\n            border: 'none',\r\n            color: '#9ca3af',\r\n            cursor: 'pointer',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            fontSize: '12px',\r\n          }}\r\n        >\r\n          <Keyboard size={14} />\r\n          <span>Âø´Êç∑ÈîÆ</span>\r\n          {expanded ? <ChevronDown size={14} /> : <ChevronUp size={14} />}\r\n        </button>\r\n\r\n        {/* Shortcuts List */}\r\n        <AnimatePresence>\r\n          {expanded && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              exit={{ opacity: 0 }}\r\n              style={{\r\n                padding: '0 12px 12px',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                gap: '6px',\r\n              }}\r\n            >\r\n              {shortcuts.map(({ key, action }) => (\r\n                <div\r\n                  key={key}\r\n                  style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px',\r\n                    fontSize: '11px',\r\n                  }}\r\n                >\r\n                  <kbd\r\n                    style={{\r\n                      background: 'rgba(255,255,255,0.06)',\r\n                      padding: '2px 6px',\r\n                      borderRadius: '4px',\r\n                      color: '#fff',\r\n                      fontFamily: 'var(--font-mono)',\r\n                      fontSize: '10px',\r\n                      minWidth: '50px',\r\n                      textAlign: 'center',\r\n                    }}\r\n                  >\r\n                    {key}\r\n                  </kbd>\r\n                  <span style={{ color: '#6b7280' }}>{action}</span>\r\n                </div>\r\n              ))}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </motion.div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAJA;;;;;AAMA,MAAM,YAAY;IAChB;QAAE,KAAK;QAAU,QAAQ;IAAK;IAC9B;QAAE,KAAK;QAAU,QAAQ;IAAO;IAChC;QAAE,KAAK;QAAU,QAAQ;IAAK;IAC9B;QAAE,KAAK;QAAO,QAAQ;IAAK;IAC3B;QAAE,KAAK;QAAO,QAAQ;IAAO;IAC7B;QAAE,KAAK;QAAM,QAAQ;IAAQ;CAC9B;AAEM,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,qBACE,8OAAC;QACC,OAAO;YACL,UAAU;YACV,QAAQ;YACR,MAAM;YACN,QAAQ;QACV;kBAEA,cAAA,8OAAC,oMAAM,CAAC,GAAG;YACT,SAAS;YACT,SAAS;gBACP,QAAQ,WAAW,SAAS;YAC9B;YACA,OAAO;gBACL,YAAY;gBACZ,QAAQ;gBACR,cAAc;gBACd,UAAU;gBACV,WAAW;YACb;;8BAGA,8OAAC;oBACC,SAAS,IAAM,YAAY,CAAC;oBAC5B,OAAO;wBACL,OAAO;wBACP,SAAS;wBACT,YAAY;wBACZ,QAAQ;wBACR,OAAO;wBACP,QAAQ;wBACR,SAAS;wBACT,YAAY;wBACZ,KAAK;wBACL,UAAU;oBACZ;;sCAEA,8OAAC,sNAAQ;4BAAC,MAAM;;;;;;sCAChB,8OAAC;sCAAK;;;;;;wBACL,yBAAW,8OAAC,mOAAW;4BAAC,MAAM;;;;;iDAAS,8OAAC,6NAAS;4BAAC,MAAM;;;;;;;;;;;;8BAI3D,8OAAC,4MAAe;8BACb,0BACC,8OAAC,oMAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;wBAAE;wBACtB,SAAS;4BAAE,SAAS;wBAAE;wBACtB,MAAM;4BAAE,SAAS;wBAAE;wBACnB,OAAO;4BACL,SAAS;4BACT,SAAS;4BACT,eAAe;4BACf,KAAK;wBACP;kCAEC,UAAU,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,iBAC7B,8OAAC;gCAEC,OAAO;oCACL,SAAS;oCACT,YAAY;oCACZ,KAAK;oCACL,UAAU;gCACZ;;kDAEA,8OAAC;wCACC,OAAO;4CACL,YAAY;4CACZ,SAAS;4CACT,cAAc;4CACd,OAAO;4CACP,YAAY;4CACZ,UAAU;4CACV,UAAU;4CACV,WAAW;wCACb;kDAEC;;;;;;kDAEH,8OAAC;wCAAK,OAAO;4CAAE,OAAO;wCAAU;kDAAI;;;;;;;+BAtB/B;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BvB"}},
    {"offset": {"line": 2843, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/ProjectSelector.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { ChevronDown } from 'lucide-react'\r\nimport type { ProjectSelectorProps } from '@/types/sort'\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8001'\r\n\r\nfunction getLogoUrl(projectName: string): string {\r\n  const appName = projectName.includes('/') \r\n    ? projectName.split('/').pop() \r\n    : projectName\r\n  return `${API_BASE}/api/logo/${appName}`\r\n}\r\n\r\n// ÂÜÖËÅîÊ†∑ÂºèÂÆö‰πâÔºàÊõø‰ª£ style jsx Ëß£ÂÜ≥ scoped CSS ÈóÆÈ¢òÔºâ\r\nconst styles = {\r\n  container: {\r\n    position: 'relative' as const,\r\n    minWidth: '240px',\r\n  },\r\n  trigger: {\r\n    width: '100%',\r\n    padding: '8px 12px',\r\n    borderRadius: '8px',\r\n    background: 'var(--bg-secondary)',\r\n    color: 'var(--text-primary)',\r\n    border: '1px solid var(--border-default)',\r\n    fontSize: '14px',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '10px',\r\n  },\r\n  logo: {\r\n    width: '24px',\r\n    height: '24px',\r\n    borderRadius: '5px',\r\n    objectFit: 'cover' as const,\r\n  },\r\n  name: {\r\n    flex: 1,\r\n    textAlign: 'left' as const,\r\n  },\r\n  count: {\r\n    color: 'var(--text-secondary)',\r\n    fontSize: '12px',\r\n  },\r\n  placeholder: {\r\n    flex: 1,\r\n    textAlign: 'left' as const,\r\n    color: 'var(--text-secondary)',\r\n  },\r\n  icon: {\r\n    opacity: 0.5,\r\n  },\r\n  dropdown: {\r\n    position: 'absolute' as const,\r\n    top: '100%',\r\n    left: 0,\r\n    right: 0,\r\n    marginTop: '4px',\r\n    background: '#1a1a1a',\r\n    border: '1px solid var(--border-default)',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 10px 40px rgba(0,0,0,0.5)',\r\n    maxHeight: '400px',\r\n    overflowY: 'auto' as const,\r\n    zIndex: 100,\r\n  },\r\n  option: {\r\n    width: '100%',\r\n    padding: '10px 12px',\r\n    background: 'transparent',\r\n    border: 'none',\r\n    borderBottom: '1px solid rgba(255,255,255,0.04)',\r\n    color: '#fff',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '10px',\r\n    fontSize: '13px',\r\n    textAlign: 'left' as const,\r\n  },\r\n  optionSelected: {\r\n    background: 'rgba(255,255,255,0.08)',\r\n  },\r\n  optionLogo: {\r\n    width: '28px',\r\n    height: '28px',\r\n    borderRadius: '6px',\r\n    objectFit: 'cover' as const,\r\n  },\r\n  optionName: {\r\n    flex: 1,\r\n  },\r\n  optionCount: {\r\n    color: '#6b7280',\r\n    fontSize: '12px',\r\n  },\r\n}\r\n\r\nexport function ProjectSelector({\r\n  projects,\r\n  selectedProject,\r\n  onSelect,\r\n}: ProjectSelectorProps) {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [hoveredOption, setHoveredOption] = useState<string | null>(null)\r\n  const dropdownRef = useRef<HTMLDivElement>(null)\r\n\r\n  // ÁÇπÂáªÂ§ñÈÉ®ÂÖ≥Èó≠\r\n  useEffect(() => {\r\n    const handleClickOutside = (e: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target as Node)) {\r\n        setIsOpen(false)\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClickOutside)\r\n    return () => document.removeEventListener('mousedown', handleClickOutside)\r\n  }, [])\r\n\r\n  const selectedProjectData = projects.find(p => p.name === selectedProject)\r\n\r\n  return (\r\n    <div ref={dropdownRef} style={styles.container}>\r\n      {/* Ëß¶ÂèëÊåâÈíÆ */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        style={styles.trigger}\r\n      >\r\n        {selectedProjectData ? (\r\n          <>\r\n            <img\r\n              src={getLogoUrl(selectedProjectData.name)}\r\n              alt={selectedProjectData.display_name}\r\n              style={styles.logo}\r\n              onError={(e) => {\r\n                const target = e.target as HTMLImageElement\r\n                target.style.display = 'none'\r\n              }}\r\n            />\r\n            <span style={styles.name}>\r\n              {selectedProjectData.display_name}\r\n            </span>\r\n            <span style={styles.count}>\r\n              ({selectedProjectData.screen_count})\r\n            </span>\r\n          </>\r\n        ) : (\r\n          <span style={styles.placeholder}>\r\n            ÈÄâÊã©È°πÁõÆ...\r\n          </span>\r\n        )}\r\n        <ChevronDown size={16} style={styles.icon} />\r\n      </button>\r\n\r\n      {/* ‰∏ãÊãâÂàóË°® */}\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -8 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -8 }}\r\n            transition={{ duration: 0.15 }}\r\n            style={styles.dropdown}\r\n          >\r\n            {projects.map((project) => (\r\n              <button\r\n                key={project.name}\r\n                onClick={() => {\r\n                  onSelect(project.name)\r\n                  setIsOpen(false)\r\n                }}\r\n                onMouseEnter={() => setHoveredOption(project.name)}\r\n                onMouseLeave={() => setHoveredOption(null)}\r\n                style={{\r\n                  ...styles.option,\r\n                  ...(selectedProject === project.name ? styles.optionSelected : {}),\r\n                  ...(hoveredOption === project.name ? { background: 'rgba(255,255,255,0.05)' } : {}),\r\n                }}\r\n              >\r\n                <img\r\n                  src={getLogoUrl(project.name)}\r\n                  alt={project.display_name}\r\n                  style={styles.optionLogo}\r\n                  onError={(e) => {\r\n                    const target = e.target as HTMLImageElement\r\n                    target.style.display = 'none'\r\n                  }}\r\n                />\r\n                <span style={styles.optionName}>\r\n                  {project.display_name}\r\n                </span>\r\n                <span style={styles.optionCount}>\r\n                  {project.screen_count}\r\n                </span>\r\n              </button>\r\n            ))}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/SortableScreenshot.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useSortable } from '@dnd-kit/sortable'\r\nimport { CSS } from '@dnd-kit/utilities'\r\nimport { Check, Play, Flag } from 'lucide-react'\r\nimport { getThumbnailUrl } from '@/lib/api'\r\nimport type { SortableScreenshotProps } from '@/types/sort'\r\n\r\n// ÂÜÖËÅîÊ†∑ÂºèÂÆö‰πâÔºàÊõø‰ª£ style jsx Ëß£ÂÜ≥ scoped CSS ÈóÆÈ¢òÔºâ\r\nconst styles = {\r\n  card: {\r\n    position: 'relative' as const,\r\n    aspectRatio: '9/16',\r\n    overflow: 'hidden',\r\n    background: 'var(--bg-secondary)',\r\n    cursor: 'pointer',\r\n    borderRadius: '6px',\r\n    transition: 'border 150ms, box-shadow 150ms',\r\n  },\r\n  dragHandle: {\r\n    position: 'absolute' as const,\r\n    inset: 0,\r\n  },\r\n  image: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover' as const,\r\n    pointerEvents: 'none' as const,\r\n  },\r\n  selectedOverlay: {\r\n    position: 'absolute' as const,\r\n    inset: 0,\r\n    background: 'rgba(59, 130, 246, 0.35)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    pointerEvents: 'none' as const,\r\n  },\r\n  checkIcon: {\r\n    width: '40px',\r\n    height: '40px',\r\n    borderRadius: '50%',\r\n    background: '#fff',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\r\n  },\r\n  index: {\r\n    position: 'absolute' as const,\r\n    top: '4px',\r\n    left: '4px',\r\n    padding: '2px 6px',\r\n    background: 'rgba(0, 0, 0, 0.7)',\r\n    borderRadius: '4px',\r\n    fontSize: '10px',\r\n    color: 'var(--text-secondary)',\r\n    fontFamily: 'var(--font-mono)',\r\n  },\r\n  badge: {\r\n    position: 'absolute' as const,\r\n    bottom: '4px',\r\n    left: '4px',\r\n    padding: '2px 6px',\r\n    borderRadius: '4px',\r\n    fontSize: '9px',\r\n    color: '#fff',\r\n    fontWeight: 600,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '2px',\r\n  },\r\n  onboardingDot: {\r\n    position: 'absolute' as const,\r\n    bottom: '4px',\r\n    left: '4px',\r\n    width: '6px',\r\n    height: '6px',\r\n    background: '#22c55e',\r\n    borderRadius: '50%',\r\n  },\r\n  newBadge: {\r\n    position: 'absolute' as const,\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    padding: '4px 8px',\r\n    background: '#f59e0b',\r\n    borderRadius: '4px',\r\n    fontSize: '10px',\r\n    color: '#fff',\r\n    fontWeight: 700,\r\n    textTransform: 'uppercase' as const,\r\n  },\r\n}\r\n\r\nexport function SortableScreenshot({\r\n  screenshot,\r\n  projectName,\r\n  index,\r\n  isSelected,\r\n  isNewlyAdded = false,\r\n  onCardClick,\r\n  onboardingStart,\r\n  onboardingEnd,\r\n}: SortableScreenshotProps) {\r\n  const {\r\n    attributes,\r\n    listeners,\r\n    setNodeRef,\r\n    transform,\r\n    transition,\r\n    isDragging,\r\n  } = useSortable({ \r\n    id: screenshot.filename,\r\n    transition: {\r\n      duration: 200,\r\n      easing: 'cubic-bezier(0.25, 1, 0.5, 1)',\r\n    },\r\n  })\r\n\r\n  const isInOnboarding =\r\n    onboardingStart >= 0 &&\r\n    onboardingEnd >= 0 &&\r\n    index >= onboardingStart &&\r\n    index <= onboardingEnd\r\n\r\n  const isStart = index === onboardingStart\r\n  const isEnd = index === onboardingEnd\r\n\r\n  const wrapperStyle = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition: transition || 'transform 200ms cubic-bezier(0.25, 1, 0.5, 1)',\r\n    opacity: isDragging ? 0.3 : 1,\r\n    zIndex: isDragging ? 100 : 'auto' as const,\r\n  }\r\n\r\n  const getBorderStyle = () => {\r\n    if (isDragging) return '2px dashed rgba(255,255,255,0.4)'\r\n    if (isNewlyAdded) return '3px solid #f59e0b'\r\n    if (isSelected) return '3px solid #3b82f6'\r\n    if (isInOnboarding) return '2px solid #22c55e'\r\n    return '2px solid rgba(255,255,255,0.15)'\r\n  }\r\n\r\n  const getBoxShadow = () => {\r\n    if (isNewlyAdded) return '0 0 20px rgba(245, 158, 11, 0.5)'\r\n    if (isSelected) return '0 0 0 2px rgba(59, 130, 246, 0.5)'\r\n    if (isDragging) return '0 20px 40px rgba(0, 0, 0, 0.4)'\r\n    return undefined\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      style={wrapperStyle}\r\n      {...attributes}\r\n    >\r\n      <div\r\n        onClick={onCardClick}\r\n        style={{\r\n          ...styles.card,\r\n          border: getBorderStyle(),\r\n          boxShadow: getBoxShadow(),\r\n        }}\r\n      >\r\n        {/* Drag Handle */}\r\n        <div\r\n          {...listeners}\r\n          style={{ ...styles.dragHandle, cursor: isDragging ? 'grabbing' : 'grab' }}\r\n        />\r\n\r\n        <img\r\n          src={getThumbnailUrl(projectName, screenshot.filename, 'small')}\r\n          alt={screenshot.filename}\r\n          style={styles.image}\r\n          loading=\"lazy\"\r\n        />\r\n\r\n        {/* ÈÄâ‰∏≠ÈÅÆÁΩ©ÂíåÂãæÈÄâÂõæÊ†á */}\r\n        {isSelected && (\r\n          <div style={styles.selectedOverlay}>\r\n            <div style={styles.checkIcon}>\r\n              <Check size={24} style={{ color: '#3b82f6' }} />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Á¥¢Âºï */}\r\n        <div style={styles.index}>\r\n          {String(index + 1).padStart(4, '0')}\r\n        </div>\r\n\r\n        {/* START/END Ê†áËÆ∞ */}\r\n        {isStart && (\r\n          <div style={{ ...styles.badge, background: '#22c55e' }}>\r\n            <Play size={8} /> START\r\n          </div>\r\n        )}\r\n        {isEnd && (\r\n          <div style={{ ...styles.badge, background: '#f59e0b' }}>\r\n            <Flag size={8} /> END\r\n          </div>\r\n        )}\r\n\r\n        {/* Onboarding ËåÉÂõ¥ÂÜÖÊ†áËÆ∞ */}\r\n        {isInOnboarding && !isStart && !isEnd && (\r\n          <div style={styles.onboardingDot} />\r\n        )}\r\n\r\n        {/* Êñ∞Ê∑ªÂä†Ê†áËÆ∞ */}\r\n        {isNewlyAdded && (\r\n          <div style={styles.newBadge}>NEW</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3388, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/DragPreview.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { motion } from 'framer-motion'\r\nimport { getThumbnailUrl } from '@/lib/api'\r\nimport type { DragPreviewProps } from '@/types/sort'\r\n\r\n// ÂÜÖËÅîÊ†∑ÂºèÂÆö‰πâ\r\nconst styles = {\r\n  container: {\r\n    boxShadow: '0 20px 40px rgba(0, 0, 0, 0.5), 0 0 0 2px rgba(255,255,255,0.8)',\r\n    borderRadius: '8px',\r\n    overflow: 'hidden',\r\n    cursor: 'grabbing',\r\n    position: 'relative' as const,\r\n  },\r\n  imageWrapper: {\r\n    aspectRatio: '9/16',\r\n    overflow: 'hidden',\r\n    background: 'var(--bg-secondary)',\r\n  },\r\n  image: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover' as const,\r\n    pointerEvents: 'none' as const,\r\n  },\r\n  label: {\r\n    position: 'absolute' as const,\r\n    bottom: '4px',\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n    padding: '2px 8px',\r\n    background: 'rgba(0,0,0,0.8)',\r\n    borderRadius: '4px',\r\n    fontSize: '10px',\r\n    color: '#fff',\r\n    fontWeight: 500,\r\n    whiteSpace: 'nowrap' as const,\r\n  },\r\n}\r\n\r\nexport function DragPreview({\r\n  screenshot,\r\n  projectName,\r\n  zoom = 100,\r\n}: DragPreviewProps) {\r\n  const previewWidth = Math.round(120 * (zoom / 100))\r\n  \r\n  return (\r\n    <motion.div\r\n      initial={{ scale: 1, rotate: 0 }}\r\n      animate={{ scale: 1.05, rotate: 2 }}\r\n      transition={{ duration: 0.15, ease: 'easeOut' }}\r\n      style={{ ...styles.container, width: `${previewWidth}px` }}\r\n    >\r\n      <div style={styles.imageWrapper}>\r\n        <img\r\n          src={getThumbnailUrl(projectName, screenshot.filename, 'small')}\r\n          alt={screenshot.filename}\r\n          style={styles.image}\r\n        />\r\n      </div>\r\n      \r\n      <div style={styles.label}>\r\n        ÊãñÊãΩ‰∏≠...\r\n      </div>\r\n    </motion.div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAMA,SAAS;AACT,MAAM,SAAS;IACb,WAAW;QACT,WAAW;QACX,cAAc;QACd,UAAU;QACV,QAAQ;QACR,UAAU;IACZ;IACA,cAAc;QACZ,aAAa;QACb,UAAU;QACV,YAAY;IACd;IACA,OAAO;QACL,OAAO;QACP,QAAQ;QACR,WAAW;QACX,eAAe;IACjB;IACA,OAAO;QACL,UAAU;QACV,QAAQ;QACR,MAAM;QACN,WAAW;QACX,SAAS;QACT,YAAY;QACZ,cAAc;QACd,UAAU;QACV,OAAO;QACP,YAAY;QACZ,YAAY;IACd;AACF;AAEO,SAAS,YAAY,EAC1B,UAAU,EACV,WAAW,EACX,OAAO,GAAG,EACO;IACjB,MAAM,eAAe,KAAK,KAAK,CAAC,MAAM,CAAC,OAAO,GAAG;IAEjD,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,SAAS;YAAE,OAAO;YAAG,QAAQ;QAAE;QAC/B,SAAS;YAAE,OAAO;YAAM,QAAQ;QAAE;QAClC,YAAY;YAAE,UAAU;YAAM,MAAM;QAAU;QAC9C,OAAO;YAAE,GAAG,OAAO,SAAS;YAAE,OAAO,GAAG,aAAa,EAAE,CAAC;QAAC;;0BAEzD,8OAAC;gBAAI,OAAO,OAAO,YAAY;0BAC7B,cAAA,8OAAC;oBACC,KAAK,IAAA,oIAAe,EAAC,aAAa,WAAW,QAAQ,EAAE;oBACvD,KAAK,WAAW,QAAQ;oBACxB,OAAO,OAAO,KAAK;;;;;;;;;;;0BAIvB,8OAAC;gBAAI,OAAO,OAAO,KAAK;0BAAE;;;;;;;;;;;;AAKhC"}},
    {"offset": {"line": 3488, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/types/sort.ts"],"sourcesContent":["/**\r\n * ÊéíÂ∫èÊ®°ÂùóÁ±ªÂûãÂÆö‰πâ\r\n */\r\nimport type { Screenshot, Project } from './index'\r\n\r\n// ==================== Áº©ÊîæÈÖçÁΩÆ ====================\r\n\r\nexport interface ZoomConfig {\r\n  min: number\r\n  max: number\r\n  step: number\r\n  default: number\r\n}\r\n\r\nexport const ZOOM_CONFIG: ZoomConfig = {\r\n  min: 50,\r\n  max: 200,\r\n  step: 25,\r\n  default: 100,\r\n}\r\n\r\n// ==================== ÊãñÊãΩÁõ∏ÂÖ≥ ====================\r\n\r\nexport interface DragState {\r\n  activeId: string | null\r\n  overId: string | null\r\n}\r\n\r\nexport interface DropAnimationConfig {\r\n  duration: number\r\n  easing: string\r\n}\r\n\r\n// ==================== Store Slices ====================\r\n\r\nexport interface DataSlice {\r\n  screenshots: Screenshot[]\r\n  sortedScreenshots: Screenshot[]\r\n  deletedBatches: DeletedBatch[]\r\n  onboardingRange: OnboardingRange\r\n  \r\n  fetchData: (projectName: string) => Promise<void>\r\n  reorder: (oldIndex: number, newIndex: number) => void\r\n  deleteSelected: (projectName: string) => Promise<void>\r\n  restoreBatch: (projectName: string, batch: string) => Promise<void>\r\n  saveSortOrder: (projectName: string) => Promise<void>\r\n  applySortOrder: (projectName: string) => Promise<void>\r\n  insertScreenshotAt: (screenshot: Screenshot, index: number) => void\r\n}\r\n\r\nexport interface SelectionSlice {\r\n  selectedFiles: Set<string>\r\n  lastClickedIndex: number | null\r\n  \r\n  toggleSelect: (filename: string) => void\r\n  selectAll: () => void\r\n  deselectAll: () => void\r\n  setSelectedFiles: (files: Set<string>) => void\r\n  setLastClickedIndex: (index: number | null) => void\r\n}\r\n\r\nexport interface PreviewSlice {\r\n  previewIndex: number | null\r\n  \r\n  setPreviewIndex: (index: number | null) => void\r\n  prevPreview: () => void\r\n  nextPreview: () => void\r\n}\r\n\r\nexport interface UISlice {\r\n  loading: boolean\r\n  saving: boolean\r\n  error: string | null\r\n  hasChanges: boolean\r\n  \r\n  setLoading: (loading: boolean) => void\r\n  setSaving: (saving: boolean) => void\r\n  setError: (error: string | null) => void\r\n  setHasChanges: (hasChanges: boolean) => void\r\n}\r\n\r\nexport interface ZoomSlice {\r\n  zoom: number\r\n  \r\n  zoomIn: () => void\r\n  zoomOut: () => void\r\n  resetZoom: () => void\r\n  setZoom: (zoom: number) => void\r\n}\r\n\r\n// ÂêàÂπ∂ÁöÑ Store Á±ªÂûã\r\nexport type SortStore = DataSlice & SelectionSlice & PreviewSlice & UISlice & ZoomSlice & {\r\n  reset: () => void\r\n}\r\n\r\n// ==================== API Áõ∏ÂÖ≥ ====================\r\n\r\nexport interface DeletedBatch {\r\n  timestamp: string\r\n  count: number\r\n  files: string[]\r\n}\r\n\r\nexport interface OnboardingRange {\r\n  start: number\r\n  end: number\r\n}\r\n\r\nexport interface SortItem {\r\n  original_file: string\r\n  new_index: number\r\n}\r\n\r\n// ==================== ÁªÑ‰ª∂ Props ====================\r\n\r\nexport interface ProjectSelectorProps {\r\n  projects: Project[]\r\n  selectedProject: string | null\r\n  onSelect: (name: string | null) => void\r\n}\r\n\r\nexport interface SortableScreenshotProps {\r\n  screenshot: Screenshot\r\n  projectName: string\r\n  index: number\r\n  isSelected: boolean\r\n  isNewlyAdded?: boolean\r\n  isDragging?: boolean\r\n  onCardClick: (e: React.MouseEvent) => void\r\n  onboardingStart: number\r\n  onboardingEnd: number\r\n}\r\n\r\nexport interface DragPreviewProps {\r\n  screenshot: Screenshot\r\n  projectName: string\r\n  zoom?: number\r\n}\r\n\r\nexport interface ZoomControlProps {\r\n  zoom: number\r\n  onZoomIn: () => void\r\n  onZoomOut: () => void\r\n  onReset: () => void\r\n  min?: number\r\n  max?: number\r\n}\r\n\r\nexport interface SelectionBarProps {\r\n  selectedCount: number\r\n  onDeselect: () => void\r\n  onDelete: () => void\r\n  disabled?: boolean\r\n}\r\n\r\nexport interface SortGridProps {\r\n  screenshots: Screenshot[]\r\n  projectName: string\r\n  selectedFiles: Set<string>\r\n  newlyAdded: string | null\r\n  zoom: number\r\n  onboardingStart: number\r\n  onboardingEnd: number\r\n  onCardClick: (e: React.MouseEvent, index: number, filename: string) => void\r\n  dropTargetIndex: number | null\r\n  isDragOver: boolean\r\n}\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AAYM,MAAM,cAA0B;IACrC,KAAK;IACL,KAAK;IACL,MAAM;IACN,SAAS;AACX"}},
    {"offset": {"line": 3504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/ZoomControl.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { ZoomIn, ZoomOut } from 'lucide-react'\r\nimport { ZOOM_CONFIG } from '@/types/sort'\r\nimport type { ZoomControlProps } from '@/types/sort'\r\n\r\n// ÂÜÖËÅîÊ†∑ÂºèÂÆö‰πâ\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '4px',\r\n    padding: '4px 8px',\r\n    background: 'var(--bg-secondary)',\r\n    borderRadius: '8px',\r\n  },\r\n  btn: {\r\n    padding: '4px',\r\n    background: 'transparent',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    color: 'var(--text-secondary)',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    transition: 'color 150ms, background 150ms',\r\n  },\r\n  btnDisabled: {\r\n    color: 'var(--text-muted)',\r\n    cursor: 'not-allowed',\r\n  },\r\n  btnHover: {\r\n    background: 'rgba(255,255,255,0.1)',\r\n    color: 'var(--text-primary)',\r\n  },\r\n  value: {\r\n    padding: '2px 8px',\r\n    background: 'transparent',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    color: 'var(--text-primary)',\r\n    cursor: 'pointer',\r\n    fontSize: '12px',\r\n    fontFamily: 'var(--font-mono)',\r\n    fontWeight: 500,\r\n    minWidth: '48px',\r\n    transition: 'background 150ms',\r\n  },\r\n  valueChanged: {\r\n    background: 'rgba(59, 130, 246, 0.2)',\r\n  },\r\n}\r\n\r\nexport function ZoomControl({\r\n  zoom,\r\n  onZoomIn,\r\n  onZoomOut,\r\n  onReset,\r\n  min = ZOOM_CONFIG.min,\r\n  max = ZOOM_CONFIG.max,\r\n}: ZoomControlProps) {\r\n  const isAtMin = zoom <= min\r\n  const isAtMax = zoom >= max\r\n  const isDefault = zoom === ZOOM_CONFIG.default\r\n  const [hoveredBtn, setHoveredBtn] = useState<string | null>(null)\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <button\r\n        onClick={onZoomOut}\r\n        disabled={isAtMin}\r\n        style={{\r\n          ...styles.btn,\r\n          ...(isAtMin ? styles.btnDisabled : {}),\r\n          ...(hoveredBtn === 'out' && !isAtMin ? styles.btnHover : {}),\r\n        }}\r\n        onMouseEnter={() => setHoveredBtn('out')}\r\n        onMouseLeave={() => setHoveredBtn(null)}\r\n        title=\"Áº©Â∞è (Ctrl+-)\"\r\n      >\r\n        <ZoomOut size={16} />\r\n      </button>\r\n      \r\n      <button\r\n        onClick={onReset}\r\n        style={{\r\n          ...styles.value,\r\n          ...(!isDefault ? styles.valueChanged : {}),\r\n          ...(hoveredBtn === 'reset' ? { background: 'rgba(255,255,255,0.1)' } : {}),\r\n        }}\r\n        onMouseEnter={() => setHoveredBtn('reset')}\r\n        onMouseLeave={() => setHoveredBtn(null)}\r\n        title=\"ÈáçÁΩÆÁº©Êîæ (Ctrl+0)\"\r\n      >\r\n        {zoom}%\r\n      </button>\r\n      \r\n      <button\r\n        onClick={onZoomIn}\r\n        disabled={isAtMax}\r\n        style={{\r\n          ...styles.btn,\r\n          ...(isAtMax ? styles.btnDisabled : {}),\r\n          ...(hoveredBtn === 'in' && !isAtMax ? styles.btnHover : {}),\r\n        }}\r\n        onMouseEnter={() => setHoveredBtn('in')}\r\n        onMouseLeave={() => setHoveredBtn(null)}\r\n        title=\"ÊîæÂ§ß (Ctrl++)\"\r\n      >\r\n        <ZoomIn size={16} />\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAOA,SAAS;AACT,MAAM,SAAS;IACb,WAAW;QACT,SAAS;QACT,YAAY;QACZ,KAAK;QACL,SAAS;QACT,YAAY;QACZ,cAAc;IAChB;IACA,KAAK;QACH,SAAS;QACT,YAAY;QACZ,QAAQ;QACR,cAAc;QACd,OAAO;QACP,QAAQ;QACR,SAAS;QACT,YAAY;QACZ,gBAAgB;QAChB,YAAY;IACd;IACA,aAAa;QACX,OAAO;QACP,QAAQ;IACV;IACA,UAAU;QACR,YAAY;QACZ,OAAO;IACT;IACA,OAAO;QACL,SAAS;QACT,YAAY;QACZ,QAAQ;QACR,cAAc;QACd,OAAO;QACP,QAAQ;QACR,UAAU;QACV,YAAY;QACZ,YAAY;QACZ,UAAU;QACV,YAAY;IACd;IACA,cAAc;QACZ,YAAY;IACd;AACF;AAEO,SAAS,YAAY,EAC1B,IAAI,EACJ,QAAQ,EACR,SAAS,EACT,OAAO,EACP,MAAM,mIAAW,CAAC,GAAG,EACrB,MAAM,mIAAW,CAAC,GAAG,EACJ;IACjB,MAAM,UAAU,QAAQ;IACxB,MAAM,UAAU,QAAQ;IACxB,MAAM,YAAY,SAAS,mIAAW,CAAC,OAAO;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAE5D,qBACE,8OAAC;QAAI,OAAO,OAAO,SAAS;;0BAC1B,8OAAC;gBACC,SAAS;gBACT,UAAU;gBACV,OAAO;oBACL,GAAG,OAAO,GAAG;oBACb,GAAI,UAAU,OAAO,WAAW,GAAG,CAAC,CAAC;oBACrC,GAAI,eAAe,SAAS,CAAC,UAAU,OAAO,QAAQ,GAAG,CAAC,CAAC;gBAC7D;gBACA,cAAc,IAAM,cAAc;gBAClC,cAAc,IAAM,cAAc;gBAClC,OAAM;0BAEN,cAAA,8OAAC,uNAAO;oBAAC,MAAM;;;;;;;;;;;0BAGjB,8OAAC;gBACC,SAAS;gBACT,OAAO;oBACL,GAAG,OAAO,KAAK;oBACf,GAAI,CAAC,YAAY,OAAO,YAAY,GAAG,CAAC,CAAC;oBACzC,GAAI,eAAe,UAAU;wBAAE,YAAY;oBAAwB,IAAI,CAAC,CAAC;gBAC3E;gBACA,cAAc,IAAM,cAAc;gBAClC,cAAc,IAAM,cAAc;gBAClC,OAAM;;oBAEL;oBAAK;;;;;;;0BAGR,8OAAC;gBACC,SAAS;gBACT,UAAU;gBACV,OAAO;oBACL,GAAG,OAAO,GAAG;oBACb,GAAI,UAAU,OAAO,WAAW,GAAG,CAAC,CAAC;oBACrC,GAAI,eAAe,QAAQ,CAAC,UAAU,OAAO,QAAQ,GAAG,CAAC,CAAC;gBAC5D;gBACA,cAAc,IAAM,cAAc;gBAClC,cAAc,IAAM,cAAc;gBAClC,OAAM;0BAEN,cAAA,8OAAC,oNAAM;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAItB"}},
    {"offset": {"line": 3651, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/SelectionBar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { motion } from 'framer-motion'\r\nimport { CheckSquare, X, Trash2 } from 'lucide-react'\r\nimport type { SelectionBarProps } from '@/types/sort'\r\n\r\n// ÂÜÖËÅîÊ†∑ÂºèÂÆö‰πâÔºàÊõø‰ª£ style jsx Ëß£ÂÜ≥ scoped CSS ÈóÆÈ¢òÔºâ\r\nconst styles = {\r\n  bar: {\r\n    position: 'fixed' as const,\r\n    bottom: '24px',\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n    background: 'rgba(30, 30, 30, 0.95)',\r\n    backdropFilter: 'blur(12px)',\r\n    borderRadius: '12px',\r\n    padding: '12px 20px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '16px',\r\n    boxShadow: '0 8px 32px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255,255,255,0.1)',\r\n    zIndex: 1000,\r\n  },\r\n  info: {\r\n    color: '#fff',\r\n    fontSize: '14px',\r\n    fontWeight: 500,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n  },\r\n  icon: {\r\n    color: '#3b82f6',\r\n  },\r\n  divider: {\r\n    width: '1px',\r\n    height: '24px',\r\n    background: 'rgba(255,255,255,0.2)',\r\n  },\r\n  btn: {\r\n    padding: '8px 16px',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    fontSize: '13px',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '6px',\r\n    transition: 'background 150ms, opacity 150ms',\r\n  },\r\n  btnSecondary: {\r\n    background: 'rgba(255,255,255,0.1)',\r\n    color: '#fff',\r\n  },\r\n  btnDanger: {\r\n    background: '#ef4444',\r\n    color: '#fff',\r\n  },\r\n}\r\n\r\nexport function SelectionBar({\r\n  selectedCount,\r\n  onDeselect,\r\n  onDelete,\r\n  disabled = false,\r\n}: SelectionBarProps) {\r\n  if (selectedCount === 0) return null\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 50 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      exit={{ opacity: 0, y: 50 }}\r\n      transition={{ duration: 0.2, ease: [0.25, 1, 0.5, 1] }}\r\n      style={styles.bar}\r\n    >\r\n      <span style={styles.info}>\r\n        <CheckSquare size={18} style={styles.icon} />\r\n        Â∑≤ÈÄâÊã© {selectedCount} Âº†Êà™Âõæ\r\n      </span>\r\n      \r\n      <div style={styles.divider} />\r\n      \r\n      <button\r\n        onClick={onDeselect}\r\n        style={{ ...styles.btn, ...styles.btnSecondary }}\r\n      >\r\n        <X size={14} />\r\n        ÂèñÊ∂àÈÄâÊã©\r\n      </button>\r\n      \r\n      <button\r\n        onClick={onDelete}\r\n        disabled={disabled}\r\n        style={{ \r\n          ...styles.btn, \r\n          ...styles.btnDanger,\r\n          opacity: disabled ? 0.6 : 1,\r\n          cursor: disabled ? 'not-allowed' : 'pointer',\r\n        }}\r\n      >\r\n        <Trash2 size={14} />\r\n        Âà†Èô§ÈÄâ‰∏≠\r\n      </button>\r\n    </motion.div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAMA,wCAAwC;AACxC,MAAM,SAAS;IACb,KAAK;QACH,UAAU;QACV,QAAQ;QACR,MAAM;QACN,WAAW;QACX,YAAY;QACZ,gBAAgB;QAChB,cAAc;QACd,SAAS;QACT,SAAS;QACT,YAAY;QACZ,KAAK;QACL,WAAW;QACX,QAAQ;IACV;IACA,MAAM;QACJ,OAAO;QACP,UAAU;QACV,YAAY;QACZ,SAAS;QACT,YAAY;QACZ,KAAK;IACP;IACA,MAAM;QACJ,OAAO;IACT;IACA,SAAS;QACP,OAAO;QACP,QAAQ;QACR,YAAY;IACd;IACA,KAAK;QACH,SAAS;QACT,QAAQ;QACR,cAAc;QACd,UAAU;QACV,QAAQ;QACR,SAAS;QACT,YAAY;QACZ,KAAK;QACL,YAAY;IACd;IACA,cAAc;QACZ,YAAY;QACZ,OAAO;IACT;IACA,WAAW;QACT,YAAY;QACZ,OAAO;IACT;AACF;AAEO,SAAS,aAAa,EAC3B,aAAa,EACb,UAAU,EACV,QAAQ,EACR,WAAW,KAAK,EACE;IAClB,IAAI,kBAAkB,GAAG,OAAO;IAEhC,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,MAAM;YAAE,SAAS;YAAG,GAAG;QAAG;QAC1B,YAAY;YAAE,UAAU;YAAK,MAAM;gBAAC;gBAAM;gBAAG;gBAAK;aAAE;QAAC;QACrD,OAAO,OAAO,GAAG;;0BAEjB,8OAAC;gBAAK,OAAO,OAAO,IAAI;;kCACtB,8OAAC,0OAAW;wBAAC,MAAM;wBAAI,OAAO,OAAO,IAAI;;;;;;oBAAI;oBACxC;oBAAc;;;;;;;0BAGrB,8OAAC;gBAAI,OAAO,OAAO,OAAO;;;;;;0BAE1B,8OAAC;gBACC,SAAS;gBACT,OAAO;oBAAE,GAAG,OAAO,GAAG;oBAAE,GAAG,OAAO,YAAY;gBAAC;;kCAE/C,8OAAC,iMAAC;wBAAC,MAAM;;;;;;oBAAM;;;;;;;0BAIjB,8OAAC;gBACC,SAAS;gBACT,UAAU;gBACV,OAAO;oBACL,GAAG,OAAO,GAAG;oBACb,GAAG,OAAO,SAAS;oBACnB,SAAS,WAAW,MAAM;oBAC1B,QAAQ,WAAW,gBAAgB;gBACrC;;kCAEA,8OAAC,oNAAM;wBAAC,MAAM;;;;;;oBAAM;;;;;;;;;;;;;AAK5B"}},
    {"offset": {"line": 3826, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/components/sort/index.ts"],"sourcesContent":["// Layout Components\r\nexport { PreviewPanel } from './PreviewPanel'\r\nexport { PendingPanel } from './PendingPanel'\r\nexport { StatusBar } from './StatusBar'\r\nexport { ShortcutsHint } from './ShortcutsHint'\r\n\r\n// Interactive Components\r\nexport { ProjectSelector } from './ProjectSelector'\r\nexport { SortableScreenshot } from './SortableScreenshot'\r\nexport { DragPreview } from './DragPreview'\r\nexport { ZoomControl } from './ZoomControl'\r\nexport { SelectionBar } from './SelectionBar'\r\n"],"names":[],"mappings":"AAAA,oBAAoB;;AACpB;AACA;AACA;AACA;AAEA,yBAAyB;AACzB;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 3851, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/store/sort/data-slice.ts"],"sourcesContent":["/**\r\n * Êï∞ÊçÆ Slice - ÁÆ°ÁêÜÊà™ÂõæÊï∞ÊçÆÁöÑÂä†ËΩΩ„ÄÅ‰øùÂ≠òÂíåÊìç‰Ωú\r\n */\r\nimport type { StateCreator } from 'zustand'\r\nimport type { Screenshot } from '@/types'\r\nimport type { DataSlice, SelectionSlice, UISlice, SortStore, DeletedBatch, OnboardingRange, SortItem } from '@/types/sort'\r\nimport {\r\n  getScreenshots,\r\n  saveSortOrder as apiSaveSortOrder,\r\n  applySortOrder as apiApplySortOrder,\r\n  deleteScreens,\r\n  getDeletedScreens,\r\n  restoreScreens,\r\n  getOnboardingRange,\r\n  invalidateThumbnailCache,\r\n} from '@/lib/api'\r\n\r\nexport const createDataSlice: StateCreator<\r\n  SortStore,\r\n  [],\r\n  [],\r\n  DataSlice\r\n> = (set, get) => ({\r\n  screenshots: [],\r\n  sortedScreenshots: [],\r\n  deletedBatches: [],\r\n  onboardingRange: { start: -1, end: -1 },\r\n\r\n  fetchData: async (projectName: string) => {\r\n    set({ loading: true, error: null })\r\n    invalidateThumbnailCache()\r\n\r\n    try {\r\n      const [screenshotsRes, deletedRes, onboardingRes] = await Promise.all([\r\n        getScreenshots(projectName),\r\n        getDeletedScreens(projectName),\r\n        getOnboardingRange(projectName).catch(() => ({ start: -1, end: -1 })),\r\n      ])\r\n\r\n      set({\r\n        screenshots: screenshotsRes.screenshots,\r\n        sortedScreenshots: [...screenshotsRes.screenshots],\r\n        deletedBatches: deletedRes.batches,\r\n        onboardingRange: onboardingRes,\r\n        selectedFiles: new Set(),\r\n        previewIndex: null,\r\n        hasChanges: false,\r\n        loading: false,\r\n      })\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Âä†ËΩΩÂ§±Ë¥•',\r\n        loading: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  reorder: (oldIndex: number, newIndex: number) => {\r\n    const { sortedScreenshots } = get()\r\n    const newSorted = [...sortedScreenshots]\r\n    const [removed] = newSorted.splice(oldIndex, 1)\r\n    newSorted.splice(newIndex, 0, removed)\r\n    \r\n    set({\r\n      sortedScreenshots: newSorted,\r\n      hasChanges: true,\r\n    })\r\n  },\r\n\r\n  deleteSelected: async (projectName: string) => {\r\n    const { selectedFiles, sortedScreenshots } = get()\r\n    \r\n    if (selectedFiles.size === 0) return\r\n\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      await deleteScreens(projectName, Array.from(selectedFiles))\r\n      \r\n      const newSorted = sortedScreenshots.filter(\r\n        s => !selectedFiles.has(s.filename)\r\n      )\r\n      \r\n      const deletedRes = await getDeletedScreens(projectName)\r\n      \r\n      set({\r\n        sortedScreenshots: newSorted,\r\n        deletedBatches: deletedRes.batches,\r\n        selectedFiles: new Set(),\r\n        hasChanges: true,\r\n        saving: false,\r\n      })\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Âà†Èô§Â§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  restoreBatch: async (projectName: string, batch: string) => {\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      await restoreScreens(projectName, batch)\r\n      await get().fetchData(projectName)\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'ÊÅ¢Â§çÂ§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  saveSortOrder: async (projectName: string) => {\r\n    const { sortedScreenshots } = get()\r\n\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      const order: SortItem[] = sortedScreenshots.map((s, index) => ({\r\n        original_file: s.filename,\r\n        new_index: index + 1,\r\n      }))\r\n\r\n      await apiSaveSortOrder(projectName, order)\r\n      \r\n      set({ saving: false, hasChanges: false })\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : '‰øùÂ≠òÂ§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  applySortOrder: async (projectName: string) => {\r\n    const { sortedScreenshots } = get()\r\n\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      const order: SortItem[] = sortedScreenshots.map((s, index) => ({\r\n        original_file: s.filename,\r\n        new_index: index + 1,\r\n      }))\r\n\r\n      await apiApplySortOrder(projectName, order)\r\n      \r\n      invalidateThumbnailCache()\r\n      \r\n      const updatedScreenshots = sortedScreenshots.map((s, index) => {\r\n        const ext = s.filename.split('.').pop() || 'png'\r\n        const newFilename = `${String(index + 1).padStart(4, '0')}.${ext}`\r\n        return { ...s, filename: newFilename }\r\n      })\r\n      \r\n      set({ \r\n        screenshots: updatedScreenshots,\r\n        sortedScreenshots: updatedScreenshots,\r\n        hasChanges: false, \r\n        saving: false \r\n      })\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Â∫îÁî®Â§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  insertScreenshotAt: (screenshot: Screenshot, index: number) => {\r\n    const { sortedScreenshots } = get()\r\n    const newSorted = [...sortedScreenshots]\r\n    newSorted.splice(index, 0, screenshot)\r\n    \r\n    set({\r\n      sortedScreenshots: newSorted,\r\n      hasChanges: true,\r\n    })\r\n  },\r\n})\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4026, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/store/sort/selection-slice.ts"],"sourcesContent":["/**\r\n * ÈÄâÊã© Slice - ÁÆ°ÁêÜÊà™ÂõæÁöÑÈÄâÊã©Áä∂ÊÄÅ\r\n */\r\nimport type { StateCreator } from 'zustand'\r\nimport type { SelectionSlice, SortStore } from '@/types/sort'\r\n\r\nexport const createSelectionSlice: StateCreator<\r\n  SortStore,\r\n  [],\r\n  [],\r\n  SelectionSlice\r\n> = (set, get) => ({\r\n  selectedFiles: new Set<string>(),\r\n  lastClickedIndex: null,\r\n\r\n  toggleSelect: (filename: string) => {\r\n    const { selectedFiles } = get()\r\n    const newSelected = new Set(selectedFiles)\r\n    \r\n    if (newSelected.has(filename)) {\r\n      newSelected.delete(filename)\r\n    } else {\r\n      newSelected.add(filename)\r\n    }\r\n    \r\n    set({ selectedFiles: newSelected })\r\n  },\r\n\r\n  selectAll: () => {\r\n    const { sortedScreenshots } = get()\r\n    set({\r\n      selectedFiles: new Set(sortedScreenshots.map(s => s.filename))\r\n    })\r\n  },\r\n\r\n  deselectAll: () => {\r\n    set({ selectedFiles: new Set() })\r\n  },\r\n\r\n  setSelectedFiles: (files: Set<string>) => {\r\n    set({ selectedFiles: files })\r\n  },\r\n\r\n  setLastClickedIndex: (index: number | null) => {\r\n    set({ lastClickedIndex: index })\r\n  },\r\n})\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AAIM,MAAM,uBAKT,CAAC,KAAK,MAAQ,CAAC;QACjB,eAAe,IAAI;QACnB,kBAAkB;QAElB,cAAc,CAAC;YACb,MAAM,EAAE,aAAa,EAAE,GAAG;YAC1B,MAAM,cAAc,IAAI,IAAI;YAE5B,IAAI,YAAY,GAAG,CAAC,WAAW;gBAC7B,YAAY,MAAM,CAAC;YACrB,OAAO;gBACL,YAAY,GAAG,CAAC;YAClB;YAEA,IAAI;gBAAE,eAAe;YAAY;QACnC;QAEA,WAAW;YACT,MAAM,EAAE,iBAAiB,EAAE,GAAG;YAC9B,IAAI;gBACF,eAAe,IAAI,IAAI,kBAAkB,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ;YAC9D;QACF;QAEA,aAAa;YACX,IAAI;gBAAE,eAAe,IAAI;YAAM;QACjC;QAEA,kBAAkB,CAAC;YACjB,IAAI;gBAAE,eAAe;YAAM;QAC7B;QAEA,qBAAqB,CAAC;YACpB,IAAI;gBAAE,kBAAkB;YAAM;QAChC;IACF,CAAC"}},
    {"offset": {"line": 4073, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/store/sort/preview-slice.ts"],"sourcesContent":["/**\r\n * È¢ÑËßà Slice - ÁÆ°ÁêÜÊà™ÂõæÈ¢ÑËßàÁä∂ÊÄÅ\r\n */\r\nimport type { StateCreator } from 'zustand'\r\nimport type { PreviewSlice, SortStore } from '@/types/sort'\r\n\r\nexport const createPreviewSlice: StateCreator<\r\n  SortStore,\r\n  [],\r\n  [],\r\n  PreviewSlice\r\n> = (set, get) => ({\r\n  previewIndex: null,\r\n\r\n  setPreviewIndex: (index: number | null) => {\r\n    set({ previewIndex: index })\r\n  },\r\n\r\n  prevPreview: () => {\r\n    const { previewIndex } = get()\r\n    if (previewIndex !== null && previewIndex > 0) {\r\n      set({ previewIndex: previewIndex - 1 })\r\n    }\r\n  },\r\n\r\n  nextPreview: () => {\r\n    const { previewIndex, sortedScreenshots } = get()\r\n    if (previewIndex !== null && previewIndex < sortedScreenshots.length - 1) {\r\n      set({ previewIndex: previewIndex + 1 })\r\n    }\r\n  },\r\n})\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AAIM,MAAM,qBAKT,CAAC,KAAK,MAAQ,CAAC;QACjB,cAAc;QAEd,iBAAiB,CAAC;YAChB,IAAI;gBAAE,cAAc;YAAM;QAC5B;QAEA,aAAa;YACX,MAAM,EAAE,YAAY,EAAE,GAAG;YACzB,IAAI,iBAAiB,QAAQ,eAAe,GAAG;gBAC7C,IAAI;oBAAE,cAAc,eAAe;gBAAE;YACvC;QACF;QAEA,aAAa;YACX,MAAM,EAAE,YAAY,EAAE,iBAAiB,EAAE,GAAG;YAC5C,IAAI,iBAAiB,QAAQ,eAAe,kBAAkB,MAAM,GAAG,GAAG;gBACxE,IAAI;oBAAE,cAAc,eAAe;gBAAE;YACvC;QACF;IACF,CAAC"}},
    {"offset": {"line": 4107, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/store/sort/ui-slice.ts"],"sourcesContent":["/**\r\n * UI Slice - ÁÆ°ÁêÜ UI Áä∂ÊÄÅ\r\n */\r\nimport type { StateCreator } from 'zustand'\r\nimport type { UISlice, SortStore } from '@/types/sort'\r\n\r\nexport const createUISlice: StateCreator<\r\n  SortStore,\r\n  [],\r\n  [],\r\n  UISlice\r\n> = (set) => ({\r\n  loading: false,\r\n  saving: false,\r\n  error: null,\r\n  hasChanges: false,\r\n\r\n  setLoading: (loading: boolean) => {\r\n    set({ loading })\r\n  },\r\n\r\n  setSaving: (saving: boolean) => {\r\n    set({ saving })\r\n  },\r\n\r\n  setError: (error: string | null) => {\r\n    set({ error })\r\n  },\r\n\r\n  setHasChanges: (hasChanges: boolean) => {\r\n    set({ hasChanges })\r\n  },\r\n})\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AAIM,MAAM,gBAKT,CAAC,MAAQ,CAAC;QACZ,SAAS;QACT,QAAQ;QACR,OAAO;QACP,YAAY;QAEZ,YAAY,CAAC;YACX,IAAI;gBAAE;YAAQ;QAChB;QAEA,WAAW,CAAC;YACV,IAAI;gBAAE;YAAO;QACf;QAEA,UAAU,CAAC;YACT,IAAI;gBAAE;YAAM;QACd;QAEA,eAAe,CAAC;YACd,IAAI;gBAAE;YAAW;QACnB;IACF,CAAC"}},
    {"offset": {"line": 4143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/store/sort/zoom-slice.ts"],"sourcesContent":["/**\r\n * Áº©Êîæ Slice - ÁÆ°ÁêÜÁº©ÊîæÁä∂ÊÄÅ\r\n */\r\nimport type { StateCreator } from 'zustand'\r\nimport type { ZoomSlice, SortStore } from '@/types/sort'\r\nimport { ZOOM_CONFIG } from '@/types/sort'\r\n\r\nexport const createZoomSlice: StateCreator<\r\n  SortStore,\r\n  [],\r\n  [],\r\n  ZoomSlice\r\n> = (set, get) => ({\r\n  zoom: ZOOM_CONFIG.default,\r\n\r\n  zoomIn: () => {\r\n    const { zoom } = get()\r\n    set({ zoom: Math.min(zoom + ZOOM_CONFIG.step, ZOOM_CONFIG.max) })\r\n  },\r\n\r\n  zoomOut: () => {\r\n    const { zoom } = get()\r\n    set({ zoom: Math.max(zoom - ZOOM_CONFIG.step, ZOOM_CONFIG.min) })\r\n  },\r\n\r\n  resetZoom: () => {\r\n    set({ zoom: ZOOM_CONFIG.default })\r\n  },\r\n\r\n  setZoom: (zoom: number) => {\r\n    set({ zoom: Math.max(ZOOM_CONFIG.min, Math.min(ZOOM_CONFIG.max, zoom)) })\r\n  },\r\n})\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AAGD;;AAEO,MAAM,kBAKT,CAAC,KAAK,MAAQ,CAAC;QACjB,MAAM,mIAAW,CAAC,OAAO;QAEzB,QAAQ;YACN,MAAM,EAAE,IAAI,EAAE,GAAG;YACjB,IAAI;gBAAE,MAAM,KAAK,GAAG,CAAC,OAAO,mIAAW,CAAC,IAAI,EAAE,mIAAW,CAAC,GAAG;YAAE;QACjE;QAEA,SAAS;YACP,MAAM,EAAE,IAAI,EAAE,GAAG;YACjB,IAAI;gBAAE,MAAM,KAAK,GAAG,CAAC,OAAO,mIAAW,CAAC,IAAI,EAAE,mIAAW,CAAC,GAAG;YAAE;QACjE;QAEA,WAAW;YACT,IAAI;gBAAE,MAAM,mIAAW,CAAC,OAAO;YAAC;QAClC;QAEA,SAAS,CAAC;YACR,IAAI;gBAAE,MAAM,KAAK,GAAG,CAAC,mIAAW,CAAC,GAAG,EAAE,KAAK,GAAG,CAAC,mIAAW,CAAC,GAAG,EAAE;YAAO;QACzE;IACF,CAAC"}},
    {"offset": {"line": 4180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/store/sort/index.ts"],"sourcesContent":["/**\r\n * Sort Store - ‰ΩøÁî® Slices Pattern ÁªÑÁªáÁöÑÊéíÂ∫èÁä∂ÊÄÅÁÆ°ÁêÜ\r\n * \r\n * ÈÅµÂæ™ Zustand ÊúÄ‰Ω≥ÂÆûË∑µÔºö\r\n * - Áä∂ÊÄÅÊåâÂäüËÉΩÊãÜÂàÜ‰∏∫Áã¨Á´ã Slices\r\n * - ÊØè‰∏™ Slice ÁÆ°ÁêÜËá™Â∑±ÁöÑÁä∂ÊÄÅÂíåÊìç‰Ωú\r\n * - ÂêàÂπ∂‰∏∫Âçï‰∏Ä Store ÂØºÂá∫\r\n */\r\nimport { create } from 'zustand'\r\nimport { devtools } from 'zustand/middleware'\r\nimport type { SortStore } from '@/types/sort'\r\nimport { ZOOM_CONFIG } from '@/types/sort'\r\n\r\nimport { createDataSlice } from './data-slice'\r\nimport { createSelectionSlice } from './selection-slice'\r\nimport { createPreviewSlice } from './preview-slice'\r\nimport { createUISlice } from './ui-slice'\r\nimport { createZoomSlice } from './zoom-slice'\r\n\r\n// ÂàùÂßãÁä∂ÊÄÅÔºàÁî®‰∫é resetÔºâ\r\nconst initialState = {\r\n  // Data\r\n  screenshots: [],\r\n  sortedScreenshots: [],\r\n  deletedBatches: [],\r\n  onboardingRange: { start: -1, end: -1 },\r\n  // Selection\r\n  selectedFiles: new Set<string>(),\r\n  lastClickedIndex: null,\r\n  // Preview\r\n  previewIndex: null,\r\n  // UI\r\n  loading: false,\r\n  saving: false,\r\n  error: null,\r\n  hasChanges: false,\r\n  // Zoom\r\n  zoom: ZOOM_CONFIG.default,\r\n}\r\n\r\n/**\r\n * ÊéíÂ∫èÊ®°ÂùóÁöÑÁªü‰∏Ä Store\r\n * \r\n * ‰ΩøÁî®ÊñπÂºèÔºö\r\n * ```tsx\r\n * const { sortedScreenshots, zoom, zoomIn } = useSortStore()\r\n * // Êàñ‰ΩøÁî®ÈÄâÊã©Âô®‰ºòÂåñÊÄßËÉΩ\r\n * const zoom = useSortStore(state => state.zoom)\r\n * ```\r\n */\r\nexport const useSortStore = create<SortStore>()(\r\n  devtools(\r\n    (...args) => ({\r\n      ...createDataSlice(...args),\r\n      ...createSelectionSlice(...args),\r\n      ...createPreviewSlice(...args),\r\n      ...createUISlice(...args),\r\n      ...createZoomSlice(...args),\r\n      \r\n      // ÈáçÁΩÆÊâÄÊúâÁä∂ÊÄÅ\r\n      reset: () => {\r\n        const [set] = args\r\n        set(initialState)\r\n      },\r\n    }),\r\n    { name: 'SortStore' }\r\n  )\r\n)\r\n\r\n// ÂØºÂá∫Á±ªÂûã‰æõÂ§ñÈÉ®‰ΩøÁî®\r\nexport type { SortStore }\r\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;AACD;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;AAEA,iBAAiB;AACjB,MAAM,eAAe;IACnB,OAAO;IACP,aAAa,EAAE;IACf,mBAAmB,EAAE;IACrB,gBAAgB,EAAE;IAClB,iBAAiB;QAAE,OAAO,CAAC;QAAG,KAAK,CAAC;IAAE;IACtC,YAAY;IACZ,eAAe,IAAI;IACnB,kBAAkB;IAClB,UAAU;IACV,cAAc;IACd,KAAK;IACL,SAAS;IACT,QAAQ;IACR,OAAO;IACP,YAAY;IACZ,OAAO;IACP,MAAM,mIAAW,CAAC,OAAO;AAC3B;AAYO,MAAM,eAAe,IAAA,kJAAM,IAChC,IAAA,yJAAQ,EACN,CAAC,GAAG,OAAS,CAAC;QACZ,GAAG,IAAA,wJAAe,KAAI,KAAK;QAC3B,GAAG,IAAA,kKAAoB,KAAI,KAAK;QAChC,GAAG,IAAA,8JAAkB,KAAI,KAAK;QAC9B,GAAG,IAAA,oJAAa,KAAI,KAAK;QACzB,GAAG,IAAA,wJAAe,KAAI,KAAK;QAE3B,SAAS;QACT,OAAO;YACL,MAAM,CAAC,IAAI,GAAG;YACd,IAAI;QACN;IACF,CAAC,GACD;IAAE,MAAM;AAAY"}},
    {"offset": {"line": 4248, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/store/branch-store.ts"],"sourcesContent":["/**\r\n * ÂàÜÊîØÊµÅÁ®ãÁä∂ÊÄÅÁÆ°ÁêÜ\r\n */\r\nimport { create } from 'zustand'\r\nimport type { Screenshot } from '@/types'\r\nimport { getOnboardingRange } from '@/lib/api'\r\n\r\n// ============ Á±ªÂûãÂÆö‰πâ ============\r\n\r\nexport interface ForkPoint {\r\n  index: number\r\n  name: string\r\n}\r\n\r\nexport interface Branch {\r\n  id: string\r\n  name: string\r\n  color: string\r\n  fork_from: number\r\n  screens: number[]\r\n  merge_to: number | null\r\n}\r\n\r\nexport interface BranchData {\r\n  version: string\r\n  fork_points: ForkPoint[]\r\n  merge_points: number[]\r\n  branches: Branch[]\r\n  updated_at: string | null\r\n}\r\n\r\n// ============ API ÂáΩÊï∞ ============\r\n// Êñ∞ URL ÁªìÊûÑÔºöÊìç‰ΩúÁ±ªÂûãÂú® project_name ‰πãÂâçÔºåÈÅøÂÖç :path Ë¥™Â©™ÂåπÈÖç\r\n\r\nconst API_BASE = '/api'\r\n\r\nexport async function getBranchData(projectName: string): Promise<BranchData> {\r\n  const response = await fetch(`${API_BASE}/branch/data/${projectName}`)\r\n  if (!response.ok) {\r\n    throw new Error('Ëé∑ÂèñÂàÜÊîØÊï∞ÊçÆÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\nexport async function saveBranchData(\r\n  projectName: string,\r\n  data: { fork_points: ForkPoint[]; merge_points: number[]; branches: Branch[] }\r\n): Promise<{ success: boolean; data: BranchData }> {\r\n  const response = await fetch(`${API_BASE}/branch/data/${projectName}`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(data),\r\n  })\r\n  if (!response.ok) {\r\n    throw new Error('‰øùÂ≠òÂàÜÊîØÊï∞ÊçÆÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\nexport async function addForkPoint(\r\n  projectName: string,\r\n  index: number,\r\n  name: string = ''\r\n): Promise<{ success: boolean; fork_points: ForkPoint[] }> {\r\n  const response = await fetch(`${API_BASE}/branch/fork-point/${projectName}`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ index, name }),\r\n  })\r\n  if (!response.ok) {\r\n    throw new Error('Ê∑ªÂä†ÂàÜÊîØÁÇπÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\nexport async function removeForkPoint(\r\n  projectName: string,\r\n  index: number\r\n): Promise<{ success: boolean; fork_points: ForkPoint[] }> {\r\n  const response = await fetch(\r\n    `${API_BASE}/branch/fork-point/${index}/${projectName}`,\r\n    { method: 'DELETE' }\r\n  )\r\n  if (!response.ok) {\r\n    throw new Error('Âà†Èô§ÂàÜÊîØÁÇπÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\nexport async function addMergePoint(\r\n  projectName: string,\r\n  index: number\r\n): Promise<{ success: boolean; merge_points: number[] }> {\r\n  const response = await fetch(`${API_BASE}/branch/merge-point/${projectName}`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ index }),\r\n  })\r\n  if (!response.ok) {\r\n    throw new Error('Ê∑ªÂä†Ê±áÂêàÁÇπÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\nexport async function removeMergePoint(\r\n  projectName: string,\r\n  index: number\r\n): Promise<{ success: boolean; merge_points: number[] }> {\r\n  const response = await fetch(\r\n    `${API_BASE}/branch/merge-point/${index}/${projectName}`,\r\n    { method: 'DELETE' }\r\n  )\r\n  if (!response.ok) {\r\n    throw new Error('Âà†Èô§Ê±áÂêàÁÇπÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\nexport async function addBranch(\r\n  projectName: string,\r\n  branch: Omit<Branch, 'id'>\r\n): Promise<{ success: boolean; branch: Branch }> {\r\n  const response = await fetch(`${API_BASE}/branch/path/${projectName}`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify(branch),\r\n  })\r\n  if (!response.ok) {\r\n    throw new Error('Ê∑ªÂä†ÂàÜÊîØÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\nexport async function updateBranch(\r\n  projectName: string,\r\n  branchId: string,\r\n  branch: Omit<Branch, 'id'>\r\n): Promise<{ success: boolean; branch: Branch }> {\r\n  const response = await fetch(\r\n    `${API_BASE}/branch/path/${branchId}/${projectName}`,\r\n    {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(branch),\r\n    }\r\n  )\r\n  if (!response.ok) {\r\n    throw new Error('Êõ¥Êñ∞ÂàÜÊîØÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\nexport async function deleteBranch(\r\n  projectName: string,\r\n  branchId: string\r\n): Promise<{ success: boolean }> {\r\n  const response = await fetch(\r\n    `${API_BASE}/branch/path/${branchId}/${projectName}`,\r\n    { method: 'DELETE' }\r\n  )\r\n  if (!response.ok) {\r\n    throw new Error('Âà†Èô§ÂàÜÊîØÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\nexport async function clearBranchData(projectName: string): Promise<{ success: boolean }> {\r\n  const response = await fetch(`${API_BASE}/branch/clear/${projectName}`, {\r\n    method: 'DELETE',\r\n  })\r\n  if (!response.ok) {\r\n    throw new Error('Ê∏ÖÁ©∫ÂàÜÊîØÊï∞ÊçÆÂ§±Ë¥•')\r\n  }\r\n  return response.json()\r\n}\r\n\r\n// ============ È¢ÑÂÆö‰πâÈ¢úËâ≤ ============\r\n\r\nexport const BRANCH_COLORS = [\r\n  { name: 'ÁªøËâ≤', value: '#22c55e' },\r\n  { name: 'ËìùËâ≤', value: '#3b82f6' },\r\n  { name: 'Á¥´Ëâ≤', value: '#a855f7' },\r\n  { name: 'Ê©ôËâ≤', value: '#f59e0b' },\r\n  { name: 'Á≤âËâ≤', value: '#ec4899' },\r\n  { name: 'ÈùíËâ≤', value: '#06b6d4' },\r\n  { name: 'Á∫¢Ëâ≤', value: '#ef4444' },\r\n  { name: 'ÈùõËìù', value: '#6366f1' },\r\n]\r\n\r\n// ============ Store ÂÆö‰πâ ============\r\n\r\ninterface BranchState {\r\n  // Êï∞ÊçÆ\r\n  branchData: BranchData\r\n  screenshots: Screenshot[]\r\n  onboardingRange: { start: number; end: number }\r\n  \r\n  // ÁºñËæëÁä∂ÊÄÅ\r\n  editMode: 'none' | 'fork' | 'merge' | 'branch'\r\n  selectedBranch: string | null\r\n  pendingBranchScreens: number[]\r\n  \r\n  // UI Áä∂ÊÄÅ\r\n  loading: boolean\r\n  saving: boolean\r\n  error: string | null\r\n  \r\n  // Êìç‰Ωú\r\n  fetchData: (projectName: string) => Promise<void>\r\n  setEditMode: (mode: 'none' | 'fork' | 'merge' | 'branch') => void\r\n  \r\n  // ÂàÜÊîØÁÇπÊìç‰Ωú\r\n  toggleForkPoint: (projectName: string, index: number) => Promise<void>\r\n  updateForkPointName: (projectName: string, index: number, name: string) => Promise<void>\r\n  \r\n  // Ê±áÂêàÁÇπÊìç‰Ωú\r\n  toggleMergePoint: (projectName: string, index: number) => Promise<void>\r\n  \r\n  // ÂàÜÊîØÊìç‰Ωú\r\n  toggleScreenInPending: (index: number) => void\r\n  clearPendingScreens: () => void\r\n  createBranch: (projectName: string, name: string, color: string, forkFrom: number, mergeTo: number | null) => Promise<void>\r\n  removeBranch: (projectName: string, branchId: string) => Promise<void>\r\n  selectBranch: (branchId: string | null) => void\r\n  \r\n  // Ê∏ÖÁ©∫\r\n  clearAll: (projectName: string) => Promise<void>\r\n  reset: () => void\r\n}\r\n\r\nconst initialState = {\r\n  branchData: {\r\n    version: '1.0',\r\n    fork_points: [],\r\n    merge_points: [],\r\n    branches: [],\r\n    updated_at: null,\r\n  } as BranchData,\r\n  screenshots: [],\r\n  onboardingRange: { start: -1, end: -1 },\r\n  editMode: 'none' as const,\r\n  selectedBranch: null as string | null,\r\n  pendingBranchScreens: [] as number[],\r\n  loading: false,\r\n  saving: false,\r\n  error: null as string | null,\r\n}\r\n\r\nexport const useBranchStore = create<BranchState>((set, get) => ({\r\n  ...initialState,\r\n\r\n  fetchData: async (projectName: string) => {\r\n    set({ loading: true, error: null })\r\n\r\n    try {\r\n      // Âπ∂Ë°åËé∑ÂèñÂàÜÊîØÊï∞ÊçÆ„ÄÅÊà™ÂõæÂàóË°®Âíå Onboarding ËåÉÂõ¥\r\n      const [branchData, screenshotsRes, onboardingRange] = await Promise.all([\r\n        getBranchData(projectName),\r\n        fetch(`/api/project-screenshots/${encodeURIComponent(projectName)}`).then(r => r.json()),\r\n        getOnboardingRange(projectName),\r\n      ])\r\n\r\n      set({\r\n        branchData,\r\n        screenshots: screenshotsRes.screenshots || [],\r\n        onboardingRange,\r\n        loading: false,\r\n      })\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Âä†ËΩΩÂ§±Ë¥•',\r\n        loading: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  setEditMode: (mode) => {\r\n    set({ editMode: mode, pendingBranchScreens: [] })\r\n  },\r\n\r\n  toggleForkPoint: async (projectName: string, index: number) => {\r\n    const { branchData } = get()\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      const exists = branchData.fork_points.some((fp) => fp.index === index)\r\n      \r\n      if (exists) {\r\n        const result = await removeForkPoint(projectName, index)\r\n        set((state) => ({\r\n          branchData: { ...state.branchData, fork_points: result.fork_points },\r\n          saving: false,\r\n        }))\r\n      } else {\r\n        const result = await addForkPoint(projectName, index)\r\n        set((state) => ({\r\n          branchData: { ...state.branchData, fork_points: result.fork_points },\r\n          saving: false,\r\n        }))\r\n      }\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Êìç‰ΩúÂ§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  updateForkPointName: async (projectName: string, index: number, name: string) => {\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      const result = await addForkPoint(projectName, index, name)\r\n      set((state) => ({\r\n        branchData: { ...state.branchData, fork_points: result.fork_points },\r\n        saving: false,\r\n      }))\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Êìç‰ΩúÂ§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  toggleMergePoint: async (projectName: string, index: number) => {\r\n    const { branchData } = get()\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      const exists = branchData.merge_points.includes(index)\r\n      \r\n      if (exists) {\r\n        const result = await removeMergePoint(projectName, index)\r\n        set((state) => ({\r\n          branchData: { ...state.branchData, merge_points: result.merge_points },\r\n          saving: false,\r\n        }))\r\n      } else {\r\n        const result = await addMergePoint(projectName, index)\r\n        set((state) => ({\r\n          branchData: { ...state.branchData, merge_points: result.merge_points },\r\n          saving: false,\r\n        }))\r\n      }\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Êìç‰ΩúÂ§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  toggleScreenInPending: (index: number) => {\r\n    set((state) => {\r\n      const exists = state.pendingBranchScreens.includes(index)\r\n      return {\r\n        pendingBranchScreens: exists\r\n          ? state.pendingBranchScreens.filter((i) => i !== index)\r\n          : [...state.pendingBranchScreens, index].sort((a, b) => a - b),\r\n      }\r\n    })\r\n  },\r\n\r\n  clearPendingScreens: () => {\r\n    set({ pendingBranchScreens: [] })\r\n  },\r\n\r\n  createBranch: async (projectName: string, name: string, color: string, forkFrom: number, mergeTo: number | null) => {\r\n    const { pendingBranchScreens } = get()\r\n    \r\n    if (pendingBranchScreens.length === 0) {\r\n      set({ error: 'ËØ∑ÂÖàÈÄâÊã©ÂàÜÊîØÂåÖÂê´ÁöÑÊà™Âõæ' })\r\n      return\r\n    }\r\n\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      const result = await addBranch(projectName, {\r\n        name,\r\n        color,\r\n        fork_from: forkFrom,\r\n        screens: pendingBranchScreens,\r\n        merge_to: mergeTo,\r\n      })\r\n\r\n      set((state) => ({\r\n        branchData: {\r\n          ...state.branchData,\r\n          branches: [...state.branchData.branches, result.branch],\r\n        },\r\n        pendingBranchScreens: [],\r\n        editMode: 'none',\r\n        saving: false,\r\n      }))\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'ÂàõÂª∫ÂàÜÊîØÂ§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  removeBranch: async (projectName: string, branchId: string) => {\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      await deleteBranch(projectName, branchId)\r\n      \r\n      set((state) => ({\r\n        branchData: {\r\n          ...state.branchData,\r\n          branches: state.branchData.branches.filter((b) => b.id !== branchId),\r\n        },\r\n        selectedBranch: state.selectedBranch === branchId ? null : state.selectedBranch,\r\n        saving: false,\r\n      }))\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Âà†Èô§ÂàÜÊîØÂ§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  selectBranch: (branchId: string | null) => {\r\n    set({ selectedBranch: branchId })\r\n  },\r\n\r\n  clearAll: async (projectName: string) => {\r\n    set({ saving: true, error: null })\r\n\r\n    try {\r\n      await clearBranchData(projectName)\r\n      set({\r\n        branchData: {\r\n          version: '1.0',\r\n          fork_points: [],\r\n          merge_points: [],\r\n          branches: [],\r\n          updated_at: null,\r\n        },\r\n        selectedBranch: null,\r\n        pendingBranchScreens: [],\r\n        saving: false,\r\n      })\r\n    } catch (error) {\r\n      set({\r\n        error: error instanceof Error ? error.message : 'Ê∏ÖÁ©∫Â§±Ë¥•',\r\n        saving: false,\r\n      })\r\n    }\r\n  },\r\n\r\n  reset: () => {\r\n    set(initialState)\r\n  },\r\n}))\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4688, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/WIN/Desktop/Cursor%20Project/pm-tool-v2/frontend/src/app/flow-lab/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useCallback, useRef, useState } from 'react'\r\nimport { AnimatePresence } from 'framer-motion'\r\nimport {\r\n  DndContext,\r\n  closestCenter,\r\n  KeyboardSensor,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n  DragEndEvent,\r\n  DragOverlay,\r\n  DragStartEvent,\r\n  type DropAnimation,\r\n  defaultDropAnimationSideEffects,\r\n} from '@dnd-kit/core'\r\nimport {\r\n  SortableContext,\r\n  sortableKeyboardCoordinates,\r\n  rectSortingStrategy,\r\n} from '@dnd-kit/sortable'\r\nimport { AppLayout } from '@/components/layout'\r\nimport {\r\n  PreviewPanel,\r\n  PendingPanel,\r\n  StatusBar,\r\n  ShortcutsHint,\r\n  ProjectSelector,\r\n  SortableScreenshot,\r\n  DragPreview,\r\n  ZoomControl,\r\n  SelectionBar,\r\n} from '@/components/sort'\r\nimport { useProjectStore } from '@/store/project-store'\r\nimport { useSortStore } from '@/store/sort'\r\nimport { useBranchStore } from '@/store/branch-store'\r\nimport { importScreenshot, uploadScreenshot } from '@/lib/api'\r\nimport type { Screenshot } from '@/types'\r\nimport {\r\n  ArrowUpDown,\r\n  Save,\r\n  Check,\r\n  Trash2,\r\n  RotateCcw,\r\n  CheckSquare,\r\n  X,\r\n  LayoutGrid,\r\n  GitBranch,\r\n  GitFork,\r\n  GitMerge,\r\n  FlaskConical,\r\n} from 'lucide-react'\r\nimport { toast } from 'sonner'\r\n\r\n// ==================== ÈÖçÁΩÆ ====================\r\n\r\nconst dropAnimation: DropAnimation = {\r\n  sideEffects: defaultDropAnimationSideEffects({\r\n    styles: { active: { opacity: '0.5' } },\r\n  }),\r\n  duration: 250,\r\n  easing: 'cubic-bezier(0.25, 1, 0.5, 1)',\r\n}\r\n\r\nfunction getCardMinWidth(zoom: number): number {\r\n  return Math.round(100 * (zoom / 100))\r\n}\r\n\r\n// ==================== ‰∏ªÈ°µÈù¢ ====================\r\n\r\nexport default function FlowLabPage() {\r\n  // Store - ÊéíÂ∫è\r\n  const { projects, fetchProjects } = useProjectStore()\r\n  const {\r\n    sortedScreenshots,\r\n    deletedBatches,\r\n    selectedFiles,\r\n    onboardingRange,\r\n    previewIndex,\r\n    loading,\r\n    saving,\r\n    error,\r\n    hasChanges,\r\n    zoom,\r\n    fetchData,\r\n    reorder,\r\n    toggleSelect,\r\n    selectAll,\r\n    deselectAll,\r\n    setSelectedFiles,\r\n    deleteSelected,\r\n    restoreBatch,\r\n    saveSortOrder,\r\n    applySortOrder,\r\n    setPreviewIndex,\r\n    prevPreview,\r\n    nextPreview,\r\n    reset,\r\n    zoomIn,\r\n    zoomOut,\r\n    resetZoom,\r\n    setLastClickedIndex,\r\n    lastClickedIndex,\r\n  } = useSortStore()\r\n\r\n  // Store - ÂàÜÊîØ\r\n  const {\r\n    branchData,\r\n    editMode,\r\n    pendingBranchScreens,\r\n    fetchData: fetchBranchData,\r\n    setEditMode,\r\n    toggleForkPoint,\r\n    toggleMergePoint,\r\n    toggleScreenInPending,\r\n    clearPendingScreens,\r\n    createBranch,\r\n    removeBranch,\r\n    clearAll: clearBranchData,\r\n  } = useBranchStore()\r\n\r\n  // Local State\r\n  const [selectedProject, setSelectedProject] = useState<string | null>(null)\r\n  const [activeId, setActiveId] = useState<string | null>(null)\r\n  const [showDeleted, setShowDeleted] = useState(false)\r\n  const [isDragOver, setIsDragOver] = useState(false)\r\n  const [dropTargetIndex, setDropTargetIndex] = useState<number | null>(null)\r\n  const [uploadMessage, setUploadMessage] = useState<string | null>(null)\r\n  const [newlyAdded, setNewlyAdded] = useState<string | null>(null)\r\n  const [viewMode, setViewMode] = useState<'grid' | 'flow'>('flow')\r\n  \r\n  // Refs\r\n  const contentRef = useRef<HTMLDivElement>(null)\r\n  const gridRef = useRef<HTMLDivElement>(null)\r\n\r\n  // DnD Sensors\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor, { activationConstraint: { distance: 8 } }),\r\n    useSensor(KeyboardSensor, { coordinateGetter: sortableKeyboardCoordinates })\r\n  )\r\n\r\n  // ==================== Effects ====================\r\n\r\n  // Âä†ËΩΩÈ°πÁõÆÂàóË°®\r\n  useEffect(() => {\r\n    fetchProjects()\r\n  }, [fetchProjects])\r\n\r\n  // Á¶ªÂºÄÈ°µÈù¢ÊèêÁ§∫\r\n  useEffect(() => {\r\n    const handleBeforeUnload = (e: BeforeUnloadEvent) => {\r\n      if (hasChanges) {\r\n        e.preventDefault()\r\n        e.returnValue = '‰Ω†ÊúâÊú™‰øùÂ≠òÁöÑÊéíÂ∫èÊõ¥ÊîπÔºåÁ°ÆÂÆöË¶ÅÁ¶ªÂºÄÂêóÔºü'\r\n      }\r\n    }\r\n    window.addEventListener('beforeunload', handleBeforeUnload)\r\n    return () => window.removeEventListener('beforeunload', handleBeforeUnload)\r\n  }, [hasChanges])\r\n\r\n  // ÂàáÊç¢È°πÁõÆÊó∂Âä†ËΩΩÊï∞ÊçÆ\r\n  useEffect(() => {\r\n    if (selectedProject) {\r\n      fetchData(selectedProject)\r\n      fetchBranchData(selectedProject)\r\n    } else {\r\n      reset()\r\n    }\r\n  }, [selectedProject, fetchData, fetchBranchData, reset])\r\n\r\n  // ÊªöËΩÆÁº©Êîæ\r\n  useEffect(() => {\r\n    if (!selectedProject) return\r\n    \r\n    const handleWheel = (e: WheelEvent) => {\r\n      if (e.ctrlKey) {\r\n        e.preventDefault()\r\n        e.deltaY < 0 ? zoomIn() : zoomOut()\r\n      }\r\n    }\r\n    \r\n    const contentArea = contentRef.current\r\n    if (contentArea) {\r\n      contentArea.addEventListener('wheel', handleWheel, { passive: false })\r\n      return () => contentArea.removeEventListener('wheel', handleWheel)\r\n    }\r\n  }, [selectedProject, zoomIn, zoomOut])\r\n\r\n  // ÂÖ®Â±ÄÂø´Êç∑ÈîÆ\r\n  useEffect(() => {\r\n    if (!selectedProject) return\r\n\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.ctrlKey && e.key === 'a') { e.preventDefault(); selectAll() }\r\n      if (e.ctrlKey && (e.key === '=' || e.key === '+')) { e.preventDefault(); zoomIn() }\r\n      if (e.ctrlKey && e.key === '-') { e.preventDefault(); zoomOut() }\r\n      if (e.ctrlKey && e.key === '0') { e.preventDefault(); resetZoom() }\r\n      if (e.key === 'Delete' && selectedFiles.size > 0) {\r\n        const count = selectedFiles.size\r\n        if (count <= 10 || window.confirm(`Á°ÆÂÆöË¶ÅÂà†Èô§ ${count} Âº†Êà™ÂõæÂêóÔºü`)) {\r\n          deleteSelected(selectedProject)\r\n        }\r\n      }\r\n      if (e.key === 'Escape') { \r\n        deselectAll()\r\n        setPreviewIndex(null)\r\n        setEditMode('none')\r\n        clearPendingScreens()\r\n      }\r\n      if (e.key === 'ArrowLeft' && previewIndex !== null) { prevPreview() }\r\n      if (e.key === 'ArrowRight' && previewIndex !== null) { nextPreview() }\r\n    }\r\n\r\n    window.addEventListener('keydown', handleKeyDown)\r\n    return () => window.removeEventListener('keydown', handleKeyDown)\r\n  }, [selectedProject, selectedFiles, previewIndex, selectAll, deselectAll, \r\n      deleteSelected, setPreviewIndex, prevPreview, nextPreview, zoomIn, zoomOut, resetZoom,\r\n      setEditMode, clearPendingScreens])\r\n\r\n  // ==================== Handlers ====================\r\n\r\n  const handleDragStart = useCallback((event: DragStartEvent) => {\r\n    setActiveId(event.active.id as string)\r\n  }, [])\r\n\r\n  const handleDragEnd = useCallback((event: DragEndEvent) => {\r\n    const { active, over } = event\r\n    setActiveId(null)\r\n\r\n    if (over && active.id !== over.id) {\r\n      const oldIndex = sortedScreenshots.findIndex(s => s.filename === active.id)\r\n      const newIndex = sortedScreenshots.findIndex(s => s.filename === over.id)\r\n      \r\n      if (previewIndex !== null) {\r\n        if (previewIndex === oldIndex) {\r\n          setPreviewIndex(newIndex)\r\n        } else if (oldIndex < previewIndex && newIndex >= previewIndex) {\r\n          setPreviewIndex(previewIndex - 1)\r\n        } else if (oldIndex > previewIndex && newIndex <= previewIndex) {\r\n          setPreviewIndex(previewIndex + 1)\r\n        }\r\n      }\r\n      \r\n      reorder(oldIndex, newIndex)\r\n    }\r\n  }, [sortedScreenshots, reorder, previewIndex, setPreviewIndex])\r\n\r\n  const handleCardClick = useCallback((e: React.MouseEvent, index: number, filename: string) => {\r\n    // Â¶ÇÊûúÂú®ÂàÜÊîØÁºñËæëÊ®°ÂºèÔºåÂ§ÑÁêÜÂàÜÊîØÁõ∏ÂÖ≥ÁÇπÂáª\r\n    if (editMode === 'fork' && selectedProject) {\r\n      toggleForkPoint(selectedProject, index)\r\n      return\r\n    }\r\n    if (editMode === 'merge' && selectedProject) {\r\n      toggleMergePoint(selectedProject, index)\r\n      return\r\n    }\r\n    if (editMode === 'branch') {\r\n      toggleScreenInPending(index)\r\n      return\r\n    }\r\n    \r\n    // ÊôÆÈÄöÊ®°Âºè\r\n    setPreviewIndex(index)\r\n    \r\n    if (e.shiftKey && lastClickedIndex !== null) {\r\n      const start = Math.min(lastClickedIndex, index)\r\n      const end = Math.max(lastClickedIndex, index)\r\n      setSelectedFiles(new Set(sortedScreenshots.slice(start, end + 1).map(s => s.filename)))\r\n    } else if (e.ctrlKey || e.metaKey) {\r\n      toggleSelect(filename)\r\n    } else {\r\n      setSelectedFiles(new Set([filename]))\r\n    }\r\n    \r\n    setLastClickedIndex(index)\r\n  }, [editMode, selectedProject, lastClickedIndex, sortedScreenshots, \r\n      setPreviewIndex, setSelectedFiles, toggleSelect, setLastClickedIndex,\r\n      toggleForkPoint, toggleMergePoint, toggleScreenInPending])\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    if (!selectedProject || viewMode !== 'grid') return\r\n    \r\n    const hasFiles = e.dataTransfer.types.includes('Files')\r\n    const hasPending = e.dataTransfer.types.includes('application/x-pending-screenshot')\r\n    \r\n    if (hasFiles || hasPending) {\r\n      setIsDragOver(true)\r\n      e.dataTransfer.dropEffect = 'copy'\r\n      \r\n      if (gridRef.current) {\r\n        const cards = gridRef.current.querySelectorAll('[data-screenshot-card]')\r\n        let targetIndex = sortedScreenshots.length\r\n        \r\n        for (let i = 0; i < cards.length; i++) {\r\n          const card = cards[i] as HTMLElement\r\n          const rect = card.getBoundingClientRect()\r\n          const cardCenterX = rect.left + rect.width / 2\r\n          \r\n          if (e.clientY < rect.bottom && e.clientY > rect.top - 20) {\r\n            if (e.clientX < cardCenterX) { targetIndex = i; break }\r\n            else if (i === cards.length - 1 || e.clientX < rect.right) { targetIndex = i + 1; break }\r\n          }\r\n        }\r\n        setDropTargetIndex(targetIndex)\r\n      }\r\n    }\r\n  }, [selectedProject, sortedScreenshots.length, viewMode])\r\n\r\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault()\r\n    const relatedTarget = e.relatedTarget as HTMLElement\r\n    if (!contentRef.current?.contains(relatedTarget)) {\r\n      setIsDragOver(false)\r\n      setDropTargetIndex(null)\r\n    }\r\n  }, [])\r\n\r\n  const handleDrop = useCallback(async (e: React.DragEvent) => {\r\n    e.preventDefault()\r\n    const targetIndex = dropTargetIndex ?? sortedScreenshots.length\r\n    setIsDragOver(false)\r\n    setDropTargetIndex(null)\r\n    \r\n    if (!selectedProject) { toast.error('ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™È°πÁõÆ'); return }\r\n\r\n    const pendingData = e.dataTransfer.getData('application/x-pending-screenshot')\r\n    if (pendingData) {\r\n      try {\r\n        const { filename } = JSON.parse(pendingData)\r\n        const result = await importScreenshot(selectedProject, filename)\r\n        if (result.success && result.new_filename) {\r\n          const newScreenshot: Screenshot = { filename: result.new_filename, index: targetIndex }\r\n          const current = useSortStore.getState().sortedScreenshots\r\n          useSortStore.setState({\r\n            sortedScreenshots: [...current.slice(0, targetIndex), newScreenshot, ...current.slice(targetIndex)],\r\n            hasChanges: true\r\n          })\r\n          setUploadMessage(`‚úì Â∑≤ÊèíÂÖ• ${result.new_filename}`)\r\n          setNewlyAdded(result.new_filename)\r\n          setTimeout(() => { setUploadMessage(null); setNewlyAdded(null) }, 3000)\r\n        }\r\n      } catch (error) {\r\n        toast.error('ÂØºÂÖ•Â§±Ë¥•: ' + (error as Error).message)\r\n      }\r\n      return\r\n    }\r\n\r\n    const files = Array.from(e.dataTransfer.files).filter(f => \r\n      f.type.startsWith('image/') || /\\.(png|jpg|jpeg|webp)$/i.test(f.name)\r\n    )\r\n    if (files.length === 0) { toast.error('ËØ∑ÊãñÂÖ•ÂõæÁâáÊñá‰ª∂'); return }\r\n\r\n    const uploadedFiles: string[] = []\r\n    for (const file of files) {\r\n      try {\r\n        const result = await uploadScreenshot(selectedProject, file)\r\n        if (result.success && result.new_filename) uploadedFiles.push(result.new_filename)\r\n      } catch (error) { console.error('Upload failed:', error) }\r\n    }\r\n\r\n    if (uploadedFiles.length > 0) {\r\n      const newScreenshots: Screenshot[] = uploadedFiles.map(filename => ({ filename, path: '' }))\r\n      const current = useSortStore.getState().sortedScreenshots\r\n      useSortStore.setState({\r\n        sortedScreenshots: [...current.slice(0, targetIndex), ...newScreenshots, ...current.slice(targetIndex)],\r\n        hasChanges: true\r\n      })\r\n      setUploadMessage(`‚úì Â∑≤ÂØºÂÖ• ${uploadedFiles.length} Âº†Êà™Âõæ`)\r\n      setNewlyAdded(uploadedFiles[uploadedFiles.length - 1])\r\n      setTimeout(() => { setUploadMessage(null); setNewlyAdded(null) }, 3000)\r\n    }\r\n  }, [selectedProject, dropTargetIndex, sortedScreenshots.length])\r\n\r\n  const handleImportSuccess = useCallback(() => {\r\n    if (selectedProject) fetchData(selectedProject)\r\n  }, [selectedProject, fetchData])\r\n\r\n  const handleDeleteSelected = useCallback(() => {\r\n    if (!selectedProject) return\r\n    const count = selectedFiles.size\r\n    if (count <= 10 || window.confirm(`Á°ÆÂÆöË¶ÅÂà†Èô§ ${count} Âº†Êà™ÂõæÂêóÔºü`)) {\r\n      deleteSelected(selectedProject)\r\n    }\r\n  }, [selectedProject, selectedFiles.size, deleteSelected])\r\n\r\n  // ==================== Helper Functions ====================\r\n\r\n  // Ëé∑ÂèñÊà™ÂõæÁ±ªÂûãÔºàÂàÜÊîØÁÇπ„ÄÅÊ±áÂêàÁÇπ„ÄÅÂ±û‰∫éÂì™‰∏™ÂàÜÊîØÔºâ\r\n  const getScreenType = useCallback((index: number) => {\r\n    const isForkPoint = branchData.fork_points.some(fp => fp.index === index)\r\n    const isMergePoint = branchData.merge_points.includes(index)\r\n    const inBranch = branchData.branches.find(b => b.screens.includes(index))\r\n    const isPending = pendingBranchScreens.includes(index)\r\n    return { isForkPoint, isMergePoint, inBranch, isPending }\r\n  }, [branchData, pendingBranchScreens])\r\n\r\n  // ==================== Derived State ====================\r\n\r\n  const activeScreenshot = activeId ? sortedScreenshots.find(s => s.filename === activeId) : null\r\n  const previewScreenshot = previewIndex !== null ? sortedScreenshots[previewIndex] : null\r\n  const displayProjectName = selectedProject?.replace('downloads_2024/', '') || ''\r\n\r\n  // Onboarding ËåÉÂõ¥ÂÜÖÁöÑÊà™Âõæ\r\n  const onboardingScreenshots = onboardingRange.start >= 0 && onboardingRange.end >= 0\r\n    ? sortedScreenshots.slice(onboardingRange.start, onboardingRange.end + 1)\r\n    : sortedScreenshots\r\n\r\n  // ==================== Styles ====================\r\n\r\n  const pageStyles = {\r\n    pendingSidebar: {\r\n      width: '280px',\r\n      flexShrink: 0,\r\n      borderRight: '1px solid var(--border-default)',\r\n      overflowY: 'auto' as const,\r\n      padding: '12px',\r\n    },\r\n    mainContent: {\r\n      flex: 1,\r\n      display: 'flex',\r\n      flexDirection: 'column' as const,\r\n      minWidth: 0,\r\n    },\r\n    topbarActions: {\r\n      display: 'flex',\r\n      gap: '8px',\r\n      marginLeft: '16px',\r\n      alignItems: 'center',\r\n      flexShrink: 1,\r\n      minWidth: 0,\r\n      overflowX: 'auto' as const,\r\n      overflowY: 'hidden' as const,\r\n      paddingBottom: '2px',\r\n    },\r\n    btnGhost: {\r\n      background: 'none',\r\n      color: 'var(--text-muted)',\r\n      border: '1px solid transparent',\r\n      padding: '6px 12px',\r\n      borderRadius: '6px',\r\n      cursor: 'pointer',\r\n      fontSize: '13px',\r\n      fontWeight: 500,\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '6px',\r\n      whiteSpace: 'nowrap' as const,\r\n      lineHeight: 1.4,\r\n    },\r\n    btnGhostDanger: {\r\n      color: 'var(--danger)',\r\n    },\r\n    btnGhostActive: {\r\n      color: '#fff',\r\n      background: 'var(--bg-active)',\r\n    },\r\n    btnGhostSuccess: {\r\n      background: 'var(--success)',\r\n      color: '#fff',\r\n    },\r\n    contentArea: {\r\n      flex: 1,\r\n      overflow: 'auto',\r\n      position: 'relative' as const,\r\n    },\r\n    dropOverlay: {\r\n      position: 'absolute' as const,\r\n      inset: 0,\r\n      background: 'rgba(245, 158, 11, 0.05)',\r\n      border: '3px dashed #f59e0b',\r\n      borderRadius: '12px',\r\n      zIndex: 5,\r\n      display: 'flex',\r\n      alignItems: 'flex-start' as const,\r\n      justifyContent: 'center',\r\n      paddingTop: '20px',\r\n      pointerEvents: 'none' as const,\r\n    },\r\n    dropMessage: {\r\n      background: 'rgba(0,0,0,0.9)',\r\n      padding: '12px 24px',\r\n      borderRadius: '8px',\r\n      color: '#f59e0b',\r\n      fontSize: '14px',\r\n      fontWeight: 500,\r\n    },\r\n    uploadToast: {\r\n      position: 'fixed' as const,\r\n      bottom: '24px',\r\n      left: '50%',\r\n      transform: 'translateX(-50%)',\r\n      background: '#22c55e',\r\n      color: '#fff',\r\n      padding: '12px 24px',\r\n      borderRadius: '8px',\r\n      fontSize: '14px',\r\n      fontWeight: 500,\r\n      zIndex: 100,\r\n      boxShadow: '0 4px 20px rgba(34, 197, 94, 0.4)',\r\n    },\r\n    emptyState: {\r\n      display: 'flex',\r\n      flexDirection: 'column' as const,\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      height: '400px',\r\n      color: 'var(--text-muted)',\r\n      gap: '16px',\r\n    },\r\n    loadingState: {\r\n      display: 'flex',\r\n      height: '256px',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    errorMessage: {\r\n      padding: '12px 16px',\r\n      background: 'rgba(239, 68, 68, 0.2)',\r\n      color: 'var(--danger)',\r\n      borderRadius: '8px',\r\n      marginBottom: '16px',\r\n    },\r\n    deletedPanel: {\r\n      background: 'var(--bg-card)',\r\n      borderRadius: '8px',\r\n      marginBottom: '16px',\r\n      padding: '16px',\r\n    },\r\n    deletedBatch: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      padding: '8px 12px',\r\n      background: 'var(--bg-secondary)',\r\n      borderRadius: '6px',\r\n      marginTop: '8px',\r\n      fontSize: '13px',\r\n    },\r\n    sortGrid: {\r\n      display: 'grid',\r\n      position: 'relative' as const,\r\n      transition: 'gap 200ms ease',\r\n    },\r\n    dropIndicator: {\r\n      position: 'absolute' as const,\r\n      left: '-6px',\r\n      top: 0,\r\n      bottom: 0,\r\n      width: '4px',\r\n      background: '#f59e0b',\r\n      borderRadius: '2px',\r\n      zIndex: 10,\r\n      boxShadow: '0 0 10px rgba(245, 158, 11, 0.8)',\r\n    },\r\n    viewToggle: {\r\n      display: 'flex',\r\n      gap: '4px',\r\n      background: 'var(--bg-secondary)',\r\n      padding: '4px',\r\n      borderRadius: '8px',\r\n    },\r\n    viewToggleBtn: {\r\n      padding: '6px 12px',\r\n      borderRadius: '6px',\r\n      border: 'none',\r\n      cursor: 'pointer',\r\n      fontSize: '13px',\r\n      fontWeight: 500,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '6px',\r\n      transition: 'all 0.2s',\r\n    },\r\n    branchToolbar: {\r\n      display: 'flex',\r\n      gap: '8px',\r\n      padding: '8px 16px',\r\n      background: 'var(--bg-secondary)',\r\n      borderBottom: '1px solid var(--border-default)',\r\n      alignItems: 'center',\r\n    },\r\n  }\r\n\r\n  // ==================== Render ====================\r\n\r\n  return (\r\n    <AppLayout>\r\n      <div style={{ display: 'flex', flex: 1, overflow: 'hidden' }}>\r\n        {/* Â∑¶‰æßÂæÖÂ§ÑÁêÜÂå∫ */}\r\n        <div style={pageStyles.pendingSidebar}>\r\n          <PendingPanel selectedProject={selectedProject} onImportSuccess={handleImportSuccess} />\r\n        </div>\r\n\r\n        {/* ‰∏ªÂÜÖÂÆπÂå∫ */}\r\n        <div style={pageStyles.mainContent}>\r\n          {/* È°∂Ê†è */}\r\n          <div className=\"topbar\" style={{ overflow: 'visible' }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n              <FlaskConical size={18} color=\"#f59e0b\" />\r\n              <h1 style={{ fontSize: '15px', fontWeight: 600, color: '#fff', whiteSpace: 'nowrap' }}>\r\n                Flow Lab\r\n              </h1>\r\n              <span style={{ fontSize: '11px', color: 'var(--text-muted)', background: 'var(--bg-secondary)', padding: '2px 8px', borderRadius: '4px' }}>\r\n                ÂÆûÈ™å\r\n              </span>\r\n            </div>\r\n            <div style={{ flex: 1, minWidth: '8px' }} />\r\n\r\n            {/* ËßÜÂõæÂàáÊç¢ */}\r\n            {selectedProject && sortedScreenshots.length > 0 && (\r\n              <div style={pageStyles.viewToggle}>\r\n                <button\r\n                  style={{\r\n                    ...pageStyles.viewToggleBtn,\r\n                    background: viewMode === 'grid' ? 'var(--bg-active)' : 'transparent',\r\n                    color: viewMode === 'grid' ? '#fff' : 'var(--text-muted)',\r\n                  }}\r\n                  onClick={() => setViewMode('grid')}\r\n                >\r\n                  <LayoutGrid size={14} />\r\n                  ÁΩëÊ†º\r\n                </button>\r\n                <button\r\n                  style={{\r\n                    ...pageStyles.viewToggleBtn,\r\n                    background: viewMode === 'flow' ? 'var(--bg-active)' : 'transparent',\r\n                    color: viewMode === 'flow' ? '#fff' : 'var(--text-muted)',\r\n                  }}\r\n                  onClick={() => setViewMode('flow')}\r\n                >\r\n                  <GitBranch size={14} />\r\n                  ÊµÅÁ®ã\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {/* Áº©ÊîæÊéßÂà∂ */}\r\n            {selectedProject && sortedScreenshots.length > 0 && viewMode === 'grid' && (\r\n              <ZoomControl\r\n                zoom={zoom}\r\n                onZoomIn={zoomIn}\r\n                onZoomOut={zoomOut}\r\n                onReset={resetZoom}\r\n              />\r\n            )}\r\n\r\n            {/* È°πÁõÆÈÄâÊã©Âô® */}\r\n            <div style={{ marginLeft: 12 }}>\r\n              <ProjectSelector\r\n                projects={projects}\r\n                selectedProject={selectedProject}\r\n                onSelect={setSelectedProject}\r\n              />\r\n            </div>\r\n\r\n            {/* Êìç‰ΩúÊåâÈíÆ - ÁΩëÊ†ºÊ®°Âºè */}\r\n            {selectedProject && sortedScreenshots.length > 0 && viewMode === 'grid' && (\r\n              <div style={pageStyles.topbarActions}>\r\n                <button style={pageStyles.btnGhost} onClick={() => selectedFiles.size > 0 ? deselectAll() : selectAll()}>\r\n                  {selectedFiles.size > 0 ? <><X size={16} />ÂèñÊ∂à ({selectedFiles.size})</> : <><CheckSquare size={16} />ÂÖ®ÈÄâ</>}\r\n                </button>\r\n\r\n                {selectedFiles.size > 0 && (\r\n                  <button style={{ ...pageStyles.btnGhost, ...pageStyles.btnGhostDanger }} onClick={handleDeleteSelected} disabled={saving}>\r\n                    <Trash2 size={16} />Âà†Èô§ ({selectedFiles.size})\r\n                  </button>\r\n                )}\r\n\r\n                {deletedBatches.length > 0 && (\r\n                  <button style={{ ...pageStyles.btnGhost, ...(showDeleted ? pageStyles.btnGhostActive : {}) }} onClick={() => setShowDeleted(!showDeleted)}>\r\n                    <RotateCcw size={16} />Â∑≤Âà†Èô§ ({deletedBatches.reduce((a, b) => a + b.count, 0)})\r\n                  </button>\r\n                )}\r\n\r\n                {hasChanges && (\r\n                  <>\r\n                    <button style={pageStyles.btnGhost} onClick={() => selectedProject && saveSortOrder(selectedProject)} disabled={saving}>\r\n                      <Save size={16} />‰øùÂ≠òÊéíÂ∫è\r\n                    </button>\r\n                    <button \r\n                      style={{ ...pageStyles.btnGhost, ...pageStyles.btnGhostSuccess }}\r\n                      onClick={() => selectedProject && applySortOrder(selectedProject)} \r\n                      disabled={saving}\r\n                    >\r\n                      <Check size={16} />{saving ? 'Â∫îÁî®‰∏≠...' : 'Â∫îÁî®Âπ∂ÈáçÂëΩÂêç'}\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* ÂàÜÊîØÂ∑•ÂÖ∑Ê†è - ÊµÅÁ®ãÊ®°Âºè */}\r\n          {selectedProject && sortedScreenshots.length > 0 && viewMode === 'flow' && (\r\n            <div style={pageStyles.branchToolbar}>\r\n              <span style={{ fontSize: '13px', color: 'var(--text-muted)', marginRight: '8px' }}>Ê†áËÆ∞Ê®°Âºè:</span>\r\n              <button\r\n                style={{\r\n                  ...pageStyles.btnGhost,\r\n                  ...(editMode === 'fork' ? { background: '#ef4444', color: '#fff' } : {}),\r\n                }}\r\n                onClick={() => setEditMode(editMode === 'fork' ? 'none' : 'fork')}\r\n              >\r\n                <GitFork size={14} />\r\n                ÂàÜÊîØÁÇπ\r\n              </button>\r\n              <button\r\n                style={{\r\n                  ...pageStyles.btnGhost,\r\n                  ...(editMode === 'merge' ? { background: '#8b5cf6', color: '#fff' } : {}),\r\n                }}\r\n                onClick={() => setEditMode(editMode === 'merge' ? 'none' : 'merge')}\r\n              >\r\n                <GitMerge size={14} />\r\n                Ê±áÂêàÁÇπ\r\n              </button>\r\n              <button\r\n                style={{\r\n                  ...pageStyles.btnGhost,\r\n                  ...(editMode === 'branch' ? { background: '#22c55e', color: '#fff' } : {}),\r\n                }}\r\n                onClick={() => setEditMode(editMode === 'branch' ? 'none' : 'branch')}\r\n              >\r\n                <GitBranch size={14} />\r\n                ÈÄâÊã©ÂàÜÊîØÊà™Âõæ\r\n              </button>\r\n              \r\n              {/* ÂàõÂª∫ÂàÜÊîØÊåâÈíÆ - ÂΩìÊúâÂæÖÈÄâÊà™ÂõæÊó∂ÊòæÁ§∫ */}\r\n              {pendingBranchScreens.length > 0 && branchData.fork_points.length > 0 && (\r\n                <button\r\n                  style={{\r\n                    ...pageStyles.btnGhost,\r\n                    background: '#3b82f6',\r\n                    color: '#fff',\r\n                  }}\r\n                  onClick={() => {\r\n                    // #region agent log\r\n                    fetch('http://127.0.0.1:7242/ingest/1146cc51-3fe3-46a3-9e1a-4801e1a50de0',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'flow-lab:createBranch',message:'Create branch clicked',data:{pendingScreens:pendingBranchScreens,forkPoints:branchData.fork_points},timestamp:Date.now(),hypothesisId:'H1'})}).catch(()=>{});\r\n                    // #endregion\r\n                    // ‰ΩøÁî®Á¨¨‰∏Ä‰∏™ÂàÜÊîØÁÇπ‰Ωú‰∏∫Ëµ∑ÁÇπ\r\n                    const forkFrom = branchData.fork_points[0].index\r\n                    createBranch(selectedProject, `ÂàÜÊîØ${branchData.branches.length + 1}`, '#22c55e', forkFrom, null)\r\n                  }}\r\n                >\r\n                  <Check size={14} />\r\n                  ÂàõÂª∫ÂàÜÊîØ ({pendingBranchScreens.length}Âº†)\r\n                </button>\r\n              )}\r\n              \r\n              <div style={{ flex: 1 }} />\r\n              \r\n              <span style={{ fontSize: '12px', color: 'var(--text-muted)' }}>\r\n                ÂàÜÊîØÁÇπ: {branchData.fork_points.length} | Ê±áÂêàÁÇπ: {branchData.merge_points.length} | ÂàÜÊîØ: {branchData.branches.length}\r\n                {pendingBranchScreens.length > 0 && ` | ÂæÖÈÄâ: ${pendingBranchScreens.length}`}\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          {/* Áä∂ÊÄÅÊ†è */}\r\n          {selectedProject && sortedScreenshots.length > 0 && (\r\n            <StatusBar\r\n              projectName={displayProjectName}\r\n              total={sortedScreenshots.length}\r\n              selected={selectedFiles.size}\r\n              moved={hasChanges ? 1 : 0}\r\n              onboardingStart={onboardingRange.start}\r\n              onboardingEnd={onboardingRange.end}\r\n            />\r\n          )}\r\n\r\n          {/* ÂÜÖÂÆπÂå∫ */}\r\n          <div \r\n            ref={contentRef}\r\n            style={pageStyles.contentArea}\r\n            onDragOver={viewMode === 'grid' ? handleDragOver : undefined}\r\n            onDragLeave={viewMode === 'grid' ? handleDragLeave : undefined}\r\n            onDrop={viewMode === 'grid' ? handleDrop : undefined}\r\n          >\r\n            {/* ÊãñÊãΩÊèêÁ§∫ */}\r\n            {isDragOver && viewMode === 'grid' && (\r\n              <div style={pageStyles.dropOverlay}>\r\n                <div style={pageStyles.dropMessage}>\r\n                  {dropTargetIndex !== null && dropTargetIndex < sortedScreenshots.length\r\n                    ? `ÈáäÊîæÊèíÂÖ•Âà∞‰ΩçÁΩÆ ${dropTargetIndex + 1}`\r\n                    : 'ÈáäÊîæÊ∑ªÂä†Âà∞Êú´Â∞æ'}\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* ‰∏ä‰º†ÊàêÂäüÊèêÁ§∫ */}\r\n            {uploadMessage && <div style={pageStyles.uploadToast}>{uploadMessage}</div>}\r\n\r\n            {/* Á©∫Áä∂ÊÄÅ */}\r\n            {!selectedProject && (\r\n              <div style={pageStyles.emptyState}>\r\n                <FlaskConical size={48} />\r\n                <p>ËØ∑ÈÄâÊã©‰∏Ä‰∏™È°πÁõÆÊù•‰ΩøÁî® Flow Lab</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Âä†ËΩΩ‰∏≠ */}\r\n            {selectedProject && loading && (\r\n              <div style={pageStyles.loadingState}><div className=\"spinner\" /></div>\r\n            )}\r\n\r\n            {/* ÈîôËØØ */}\r\n            {error && <div style={pageStyles.errorMessage}>{error}</div>}\r\n\r\n            {/* Â∑≤Âà†Èô§Èù¢Êùø */}\r\n            <AnimatePresence>\r\n              {showDeleted && deletedBatches.length > 0 && viewMode === 'grid' && (\r\n                <div style={pageStyles.deletedPanel}>\r\n                  <h3 style={{ fontSize: '14px', fontWeight: 600, marginBottom: '12px' }}>Â∑≤Âà†Èô§ÁöÑÊà™Âõæ</h3>\r\n                  {deletedBatches.map((batch) => (\r\n                    <div key={batch.timestamp} style={pageStyles.deletedBatch}>\r\n                      <span>{batch.count} Âº†Êà™Âõæ - {batch.timestamp}</span>\r\n                      <button \r\n                        onClick={() => selectedProject && restoreBatch(selectedProject, batch.timestamp)} \r\n                        disabled={saving}\r\n                        style={{\r\n                          padding: '4px 8px',\r\n                          fontSize: '12px',\r\n                          background: 'transparent',\r\n                          border: '1px solid var(--border-default)',\r\n                          borderRadius: '4px',\r\n                          cursor: 'pointer',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          gap: '4px',\r\n                          color: 'var(--text-primary)',\r\n                        }}\r\n                      >\r\n                        <RotateCcw size={12} />ÊÅ¢Â§ç\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </AnimatePresence>\r\n\r\n            {/* ÁΩëÊ†ºËßÜÂõæ */}\r\n            {selectedProject && !loading && sortedScreenshots.length > 0 && viewMode === 'grid' && (\r\n              <DndContext\r\n                sensors={sensors}\r\n                collisionDetection={closestCenter}\r\n                onDragStart={handleDragStart}\r\n                onDragEnd={handleDragEnd}\r\n              >\r\n                <SortableContext items={sortedScreenshots.map(s => s.filename)} strategy={rectSortingStrategy}>\r\n                  <div\r\n                    ref={gridRef}\r\n                    style={{\r\n                      ...pageStyles.sortGrid,\r\n                      gridTemplateColumns: `repeat(auto-fill, minmax(${getCardMinWidth(zoom)}px, 1fr))`,\r\n                      gap: `${Math.round(10 * (zoom / 100))}px`,\r\n                    }}\r\n                  >\r\n                    {sortedScreenshots.map((screenshot, index) => (\r\n                      <div key={screenshot.filename} style={{ position: 'relative' }}>\r\n                        {isDragOver && dropTargetIndex === index && <div style={pageStyles.dropIndicator} />}\r\n                        <div data-screenshot-card>\r\n                          <SortableScreenshot\r\n                            screenshot={screenshot}\r\n                            projectName={selectedProject}\r\n                            index={index}\r\n                            isSelected={selectedFiles.has(screenshot.filename)}\r\n                            isNewlyAdded={screenshot.filename === newlyAdded}\r\n                            onCardClick={(e) => handleCardClick(e, index, screenshot.filename)}\r\n                            onboardingStart={onboardingRange.start}\r\n                            onboardingEnd={onboardingRange.end}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </SortableContext>\r\n\r\n                <DragOverlay dropAnimation={dropAnimation}>\r\n                  {activeScreenshot && selectedProject && (\r\n                    <DragPreview screenshot={activeScreenshot} projectName={selectedProject} zoom={zoom} />\r\n                  )}\r\n                </DragOverlay>\r\n              </DndContext>\r\n            )}\r\n\r\n            {/* ÊµÅÁ®ãËßÜÂõæ */}\r\n            {selectedProject && !loading && sortedScreenshots.length > 0 && viewMode === 'flow' && (\r\n              <FlowView\r\n                screenshots={sortedScreenshots}\r\n                onboardingRange={onboardingRange}\r\n                branchData={branchData}\r\n                editMode={editMode}\r\n                pendingBranchScreens={pendingBranchScreens}\r\n                selectedProject={selectedProject}\r\n                onScreenClick={handleCardClick}\r\n                getScreenType={getScreenType}\r\n              />\r\n            )}\r\n\r\n            {/* Á©∫ÂàóË°® */}\r\n            {selectedProject && !loading && sortedScreenshots.length === 0 && (\r\n              <div style={pageStyles.emptyState}>ËØ•È°πÁõÆÊ≤°ÊúâÊà™Âõæ</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Âè≥‰æßÈ¢ÑËßàÈù¢Êùø */}\r\n        {selectedProject && (\r\n          <PreviewPanel\r\n            screenshot={previewScreenshot}\r\n            projectName={selectedProject}\r\n            currentIndex={previewIndex !== null ? previewIndex : -1}\r\n            total={sortedScreenshots.length}\r\n            onClose={() => setPreviewIndex(null)}\r\n            onPrev={prevPreview}\r\n            onNext={nextPreview}\r\n            onboardingStart={onboardingRange.start}\r\n            onboardingEnd={onboardingRange.end}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {/* Âø´Êç∑ÈîÆÊèêÁ§∫ */}\r\n      {selectedProject && <ShortcutsHint />}\r\n\r\n      {/* Â∫ïÈÉ®ÈÄâÊã©Êìç‰ΩúÊ†è */}\r\n      <AnimatePresence>\r\n        {selectedFiles.size > 0 && selectedProject && viewMode === 'grid' && (\r\n          <SelectionBar\r\n            selectedCount={selectedFiles.size}\r\n            onDeselect={deselectAll}\r\n            onDelete={handleDeleteSelected}\r\n            disabled={saving}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n\r\n    </AppLayout>\r\n  )\r\n}\r\n\r\n// ==================== FlowView ÁªÑ‰ª∂ ====================\r\n\r\ninterface FlowViewProps {\r\n  screenshots: Screenshot[]\r\n  onboardingRange: { start: number; end: number }\r\n  branchData: {\r\n    fork_points: { index: number; name: string }[]\r\n    merge_points: number[]\r\n    branches: {\r\n      id: string\r\n      name: string\r\n      color: string\r\n      fork_from: number\r\n      screens: number[]\r\n      merge_to: number | null\r\n    }[]\r\n  }\r\n  editMode: 'none' | 'fork' | 'merge' | 'branch'\r\n  pendingBranchScreens: number[]\r\n  selectedProject: string\r\n  onScreenClick: (e: React.MouseEvent, index: number, filename: string) => void\r\n  getScreenType: (index: number) => {\r\n    isForkPoint: boolean\r\n    isMergePoint: boolean\r\n    inBranch: { id: string; name: string; color: string } | undefined\r\n    isPending: boolean\r\n  }\r\n}\r\n\r\nfunction FlowView({\r\n  screenshots,\r\n  onboardingRange,\r\n  branchData,\r\n  editMode,\r\n  pendingBranchScreens,\r\n  selectedProject,\r\n  onScreenClick,\r\n  getScreenType,\r\n}: FlowViewProps) {\r\n  // ËÆ°ÁÆó Onboarding ËåÉÂõ¥\r\n  const startIdx = onboardingRange.start >= 0 ? onboardingRange.start : 0\r\n  const endIdx = onboardingRange.end >= 0 ? onboardingRange.end + 1 : screenshots.length\r\n  const onboardingScreenshots = screenshots.slice(startIdx, endIdx)\r\n  \r\n  // Áº©Áï•Âõæ URL\r\n  const getThumbnailUrl = (filename: string) => {\r\n    const url = `/api/thumbnails/${encodeURIComponent(selectedProject)}/${encodeURIComponent(filename)}?size=small`\r\n    // #region agent log\r\n    if (filename === onboardingScreenshots[0]?.filename) {\r\n      fetch('http://127.0.0.1:7242/ingest/1146cc51-3fe3-46a3-9e1a-4801e1a50de0',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'flow-lab/page.tsx:getThumbnailUrl',message:'Thumbnail URL generated',data:{url,filename,project:selectedProject},timestamp:Date.now(),hypothesisId:'H1'})}).catch(()=>{});\r\n    }\r\n    // #endregion\r\n    return url\r\n  }\r\n\r\n  // ËÆ°ÁÆóÊØè‰∏™Êà™ÂõæÁöÑÂÆΩÂ∫¶ÔºàÁî®‰∫éÂàÜÊîØÂÆö‰ΩçÔºâ\r\n  const CARD_WIDTH = 60\r\n  const CARD_GAP = 8\r\n  const CARD_HEIGHT = 100\r\n\r\n  return (\r\n    <div style={{\r\n      width: '100%',\r\n      height: '100%',\r\n      overflow: 'auto',\r\n      padding: '24px',\r\n    }}>\r\n      <div style={{\r\n        minWidth: 'fit-content',\r\n      }}>\r\n        {/* ‰∏ªÊµÅÁ®ãË°å */}\r\n        <div style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          marginBottom: '24px',\r\n        }}>\r\n          <div style={{\r\n            fontSize: '12px',\r\n            color: 'var(--text-muted)',\r\n            width: '60px',\r\n            flexShrink: 0,\r\n          }}>\r\n            ‰∏ªÊµÅÁ®ã\r\n          </div>\r\n          {onboardingScreenshots.map((screenshot, displayIndex) => {\r\n            const realIndex = startIdx + displayIndex\r\n            const { isForkPoint, isMergePoint, inBranch, isPending } = getScreenType(realIndex)\r\n            const branchesFromHere = branchData.branches.filter(b => b.fork_from === realIndex)\r\n            const ITEM_WIDTH = CARD_WIDTH + 16 // Âõ∫ÂÆöÂÆΩÂ∫¶ÔºöÂõæÁâá60 + ÁÆ≠Â§¥Âå∫Âüü16\r\n            \r\n            return (\r\n              <div\r\n                key={screenshot.filename}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  width: displayIndex < onboardingScreenshots.length - 1 ? `${ITEM_WIDTH}px` : 'auto',\r\n                  flexShrink: 0,\r\n                }}\r\n              >\r\n                {/* Êà™ÂõæÂÆπÂô® */}\r\n                <div style={{ position: 'relative' }}>\r\n                  {/* Êà™ÂõæÂç°Áâá */}\r\n                  <div\r\n                    onClick={(e) => onScreenClick(e, realIndex, screenshot.filename)}\r\n                    style={{\r\n                      width: `${CARD_WIDTH}px`,\r\n                      height: `${CARD_HEIGHT}px`,\r\n                      borderRadius: '6px',\r\n                      overflow: 'hidden',\r\n                      cursor: 'pointer',\r\n                      border: isForkPoint\r\n                        ? '3px solid #ef4444'\r\n                        : isMergePoint\r\n                          ? '3px solid #8b5cf6'\r\n                          : isPending\r\n                            ? '3px solid #22c55e'\r\n                            : inBranch\r\n                              ? `2px solid ${inBranch.color}`\r\n                              : '2px solid var(--border-default)',\r\n                      opacity: inBranch && !isForkPoint && !isMergePoint ? 0.5 : 1,\r\n                      transition: 'all 0.2s',\r\n                      position: 'relative',\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={getThumbnailUrl(screenshot.filename)}\r\n                      alt={screenshot.filename}\r\n                      style={{\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        objectFit: 'cover',\r\n                      }}\r\n                    />\r\n                    {/* Â∫èÂè∑ */}\r\n                    <div style={{\r\n                      position: 'absolute',\r\n                      top: '2px',\r\n                      left: '2px',\r\n                      fontSize: '10px',\r\n                      background: 'rgba(0,0,0,0.7)',\r\n                      color: '#fff',\r\n                      padding: '1px 4px',\r\n                      borderRadius: '3px',\r\n                    }}>\r\n                      {realIndex + 1}\r\n                    </div>\r\n                    {/* ÂàÜÊîØÁÇπÊ†áËÆ∞ */}\r\n                    {isForkPoint && (\r\n                      <div style={{\r\n                        position: 'absolute',\r\n                        bottom: '2px',\r\n                        right: '2px',\r\n                        background: '#ef4444',\r\n                        borderRadius: '50%',\r\n                        width: '16px',\r\n                        height: '16px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                      }}>\r\n                        <GitFork size={10} color=\"#fff\" />\r\n                      </div>\r\n                    )}\r\n                    {/* Ê±áÂêàÁÇπÊ†áËÆ∞ */}\r\n                    {isMergePoint && (\r\n                      <div style={{\r\n                        position: 'absolute',\r\n                        bottom: '2px',\r\n                        left: '2px',\r\n                        background: '#8b5cf6',\r\n                        borderRadius: '50%',\r\n                        width: '16px',\r\n                        height: '16px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                      }}>\r\n                        <GitMerge size={10} color=\"#fff\" />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  {/* ÂàÜÊîØÊ†áËÆ∞ - ÊòæÁ§∫ËØ•Êà™ÂõæÂ±û‰∫éÂì™‰∏™ÂàÜÊîØ */}\r\n                  {inBranch && !isForkPoint && (\r\n                    <div style={{\r\n                      position: 'absolute',\r\n                      bottom: '-18px',\r\n                      left: '50%',\r\n                      transform: 'translateX(-50%)',\r\n                      fontSize: '9px',\r\n                      color: inBranch.color,\r\n                      whiteSpace: 'nowrap',\r\n                      background: 'var(--bg-primary)',\r\n                      padding: '1px 4px',\r\n                      borderRadius: '3px',\r\n                    }}>\r\n                      {inBranch.name}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* ÁÆ≠Â§¥ - ÊîæÂú®ÂõæÁâáÂ§ñÈÉ® */}\r\n                {displayIndex < onboardingScreenshots.length - 1 && (\r\n                  <div style={{\r\n                    padding: '0 4px',\r\n                    color: 'var(--text-muted)',\r\n                    fontSize: '14px',\r\n                    flexShrink: 0,\r\n                  }}>\r\n                    ‚Üí\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n\r\n        {/* ÂàÜÊîØË°å */}\r\n        {branchData.branches.map((branch, branchIdx) => {\r\n          const ITEM_WIDTH = CARD_WIDTH + 16 // ÂõæÁâáÂÆΩÂ∫¶ + ÁÆ≠Â§¥Âå∫Âüü\r\n          const forkDisplayIdx = branch.fork_from - startIdx\r\n          // ÂàÜÊîØ‰ªé fork_from + 1 ÂºÄÂßãÊòæÁ§∫\r\n          const branchStartDisplayIdx = forkDisplayIdx + 1\r\n          \r\n          return (\r\n            <div\r\n              key={branch.id}\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                marginTop: '20px',\r\n              }}\r\n            >\r\n              {/* ÂàÜÊîØÊ†áÁ≠æ - ‰∏é‰∏ªÊµÅÁ®ãÊ†áÁ≠æÂØπÈΩê */}\r\n              <div style={{\r\n                width: '60px',\r\n                flexShrink: 0,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '4px',\r\n              }}>\r\n                {/* È¢úËâ≤ÊñπÂùó */}\r\n                <div style={{\r\n                  width: '10px',\r\n                  height: '10px',\r\n                  background: branch.color,\r\n                  borderRadius: '2px',\r\n                  flexShrink: 0,\r\n                }} />\r\n                {/* Ê†áÁ≠æÊñáÂ≠ó */}\r\n                <span style={{\r\n                  fontSize: '11px',\r\n                  color: branch.color,\r\n                  fontWeight: 600,\r\n                  whiteSpace: 'nowrap',\r\n                  overflow: 'hidden',\r\n                  textOverflow: 'ellipsis',\r\n                }}>\r\n                  {branch.name || `ÂàÜÊîØ${branchIdx + 1}`}\r\n                </span>\r\n              </div>\r\n              \r\n              {/* Âç†‰ΩçÂÖÉÁ¥† - ËÆ©ÂàÜÊîØÊà™Âõæ‰∏é‰∏ªÊµÅÁ®ãÂØπÈΩê */}\r\n              {Array.from({ length: branchStartDisplayIdx }).map((_, i) => (\r\n                <div\r\n                  key={`placeholder-${i}`}\r\n                  style={{\r\n                    width: `${ITEM_WIDTH}px`,\r\n                    height: `${CARD_HEIGHT}px`,\r\n                    flexShrink: 0,\r\n                    position: 'relative',\r\n                  }}\r\n                >\r\n                  {/* Âú®ÂàÜÂèâÁÇπ‰ΩçÁΩÆÁîªÊñúÁ∫ø */}\r\n                  {i === forkDisplayIdx && (\r\n                    <svg\r\n                      style={{\r\n                        position: 'absolute',\r\n                        top: '0',\r\n                        left: `${CARD_WIDTH / 2}px`,\r\n                        overflow: 'visible',\r\n                        pointerEvents: 'none',\r\n                      }}\r\n                      width={ITEM_WIDTH}\r\n                      height={CARD_HEIGHT + 20}\r\n                    >\r\n                      <line\r\n                        x1=\"0\"\r\n                        y1=\"0\"\r\n                        x2={ITEM_WIDTH - 8}\r\n                        y2={CARD_HEIGHT}\r\n                        stroke={branch.color}\r\n                        strokeWidth=\"2\"\r\n                      />\r\n                    </svg>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              \r\n              {/* ÂàÜÊîØÊà™Âõæ - Âè™ÊòæÁ§∫ÂàÜÂèâÁÇπ‰πãÂêéÁöÑÊà™Âõæ */}\r\n              {branch.screens\r\n                .filter(screenIdx => screenIdx > branch.fork_from)\r\n                .map((screenIdx, i, filteredScreens) => {\r\n                const screenshot = screenshots[screenIdx]\r\n                if (!screenshot) return null\r\n                \r\n                return (\r\n                  <div key={screenIdx} style={{ \r\n                    display: 'flex', \r\n                    alignItems: 'center',\r\n                    width: i < filteredScreens.length - 1 ? `${ITEM_WIDTH}px` : 'auto',\r\n                    flexShrink: 0,\r\n                  }}>\r\n                    <div\r\n                      onClick={(e) => onScreenClick(e, screenIdx, screenshot.filename)}\r\n                      style={{\r\n                        width: `${CARD_WIDTH}px`,\r\n                        height: `${CARD_HEIGHT}px`,\r\n                        borderRadius: '6px',\r\n                        overflow: 'hidden',\r\n                        cursor: 'pointer',\r\n                        border: `3px solid ${branch.color}`,\r\n                        position: 'relative',\r\n                      }}\r\n                    >\r\n                      <img\r\n                        src={getThumbnailUrl(screenshot.filename)}\r\n                        alt={screenshot.filename}\r\n                        style={{\r\n                          width: '100%',\r\n                          height: '100%',\r\n                          objectFit: 'cover',\r\n                        }}\r\n                      />\r\n                      <div style={{\r\n                        position: 'absolute',\r\n                        top: '2px',\r\n                        left: '2px',\r\n                        fontSize: '10px',\r\n                        background: branch.color,\r\n                        color: '#fff',\r\n                        padding: '1px 4px',\r\n                        borderRadius: '3px',\r\n                      }}>\r\n                        {screenIdx + 1}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* ÁÆ≠Â§¥ - ÊîæÂú®ÂõæÁâáÂ§ñÈÉ® */}\r\n                    {i < filteredScreens.length - 1 && (\r\n                      <div style={{\r\n                        padding: '0 4px',\r\n                        color: branch.color,\r\n                        fontSize: '14px',\r\n                        flexShrink: 0,\r\n                      }}>\r\n                        ‚Üí\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n          )\r\n        })}\r\n\r\n        {/* Âõæ‰æã */}\r\n        <div style={{\r\n          position: 'fixed',\r\n          bottom: '24px',\r\n          right: '340px',\r\n          display: 'flex',\r\n          gap: '16px',\r\n          background: 'var(--bg-card)',\r\n          padding: '8px 16px',\r\n          borderRadius: '8px',\r\n          fontSize: '12px',\r\n          color: 'var(--text-muted)',\r\n          boxShadow: '0 2px 8px rgba(0,0,0,0.2)',\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n            <div style={{ width: '12px', height: '12px', background: '#ef4444', borderRadius: '50%' }} />\r\n            ÂàÜÊîØÁÇπ\r\n          </div>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n            <div style={{ width: '12px', height: '12px', background: '#8b5cf6', borderRadius: '50%' }} />\r\n            Ê±áÂêàÁÇπ\r\n          </div>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n            <div style={{ width: '12px', height: '12px', background: '#22c55e', borderRadius: '2px' }} />\r\n            ÂæÖÈÄâÊà™Âõæ\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}