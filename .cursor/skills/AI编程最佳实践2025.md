# AI 编程最佳实践 2025 - 非开发者版

> 基于 Anthropic 官方指南 + Context7 + DeepWiki 最新实践

---

## 🎯 核心原则：让 AI 慢下来

AI 的问题不是不会写代码，而是**太急着写代码**。

### 强制 AI 分步执行

```
❌ 错误："帮我做一个登录功能"
   → AI 一口气写 500 行，很多问题

✅ 正确："帮我做一个登录功能，先告诉我你的计划"
   → AI 先说方案，你确认后再动手
```

---

## 📋 每次任务必须的流程

### 阶段 1：理解需求（AI 必须先输出）

```markdown
## 我理解的需求
[用自己的话复述你要什么]

## 技术方案
1. [方案1] - 优点/缺点
2. [方案2] - 优点/缺点
推荐：[方案X]，因为...

## 实现步骤
1. [ ] 第一步：...
2. [ ] 第二步：...
3. [ ] 第三步：...

## 可能的风险
- [风险1]：如何避免
- [风险2]：如何避免

等你确认后我再开始写代码。
```

### 阶段 2：分步实现（每步都要确认）

```
AI: "第一步完成，现在可以 [功能]，要我继续第二步吗？"
你: "ok" / "不对，应该是..."
AI: 根据反馈调整
```

### 阶段 3：测试验证

```
AI: "所有步骤完成，请验证：
1. 打开 [URL]
2. 点击 [按钮]
3. 应该看到 [结果]

如果有问题告诉我具体情况。"
```

---

## 🛡️ 减少 Bug 的关键规则

### 1. 禁止大范围改动

```markdown
## 规则：单次修改不超过 3 个文件

如果需要改更多文件，必须：
1. 列出所有要改的文件
2. 说明改动的依赖关系
3. 分批次修改，每批不超过 3 个
4. 每批改完先测试
```

### 2. 先查文档再写代码

```markdown
## 规则：写代码前必须查最新文档

使用 Context7 查询：
- 框架的最新 API（避免用过时的方法）
- 官方推荐的最佳实践
- 已知的坑和解决方案

使用 DeepWiki 查询：
- 类似项目的实现方式
- 开源库的源码结构
```

### 3. 改代码前先理解代码

```markdown
## 规则：修改现有代码前

1. 先读相关文件，理解当前逻辑
2. 说明"当前代码做了什么"
3. 说明"我要改什么、为什么"
4. 确认不会破坏其他功能
5. 你确认后再动手
```

### 4. 出 Bug 时的处理流程

```markdown
## 规则：遇到 Bug 不要急着改

1. **定位问题**：加日志确认 bug 在哪里
2. **分析原因**：解释为什么会出这个 bug
3. **评估影响**：这个修复会不会影响其他地方
4. **提出方案**：怎么修，有没有更好的方案
5. **等待确认**：你说 ok 再改
```

---

## 💬 有效沟通的技巧

### 用 XML 标签结构化你的需求

```xml
<任务>
在首页添加一个搜索框
</任务>

<约束>
- 搜索框放在导航栏右边
- 支持按回车搜索
- 搜索结果在新页面显示
</约束>

<参考>
类似 Google 的搜索框样式
</参考>

<不要>
- 不要用第三方搜索库
- 不要改变现有的导航栏布局
</不要>
```

### 给 AI 角色定位

```
你是一个资深前端工程师，有 10 年 React 经验。
你的特点是：
- 代码简洁，不过度设计
- 每次改动都考虑后果
- 主动指出潜在问题
- 不确定就问，不猜
```

### 让 AI 解释它的思路

```
在写代码之前，用 <思路> 标签解释你的想法：
<思路>
我打算用 X 方法实现，因为...
可能的问题是...
</思路>

然后再写代码。
```

---

## 🔄 迭代改进模式

### 生成 → 评估 → 优化 循环

```
第一轮：
AI 生成代码 → 你测试 → 反馈问题

第二轮：
AI 根据反馈修改 → 你再测试 → 反馈问题

第三轮：
继续优化直到满意
```

### 有效的反馈方式

```markdown
❌ 模糊反馈："不对"、"有问题"、"不好用"

✅ 具体反馈：
"点击登录按钮后：
- 期望：跳转到首页
- 实际：页面卡住，控制台报错 'undefined is not a function'
- 截图：[附图]"
```

---

## 📁 项目规则模板

把这个放到你的 AI 浏览器项目的 `.cursorrules` 文件：

```markdown
# AI 浏览器项目开发规则

## 项目信息
- 名称：[项目名]
- 技术栈：[React/Vue/Electron 等]
- 当前阶段：[开发中/测试中]

## ⛔ 禁止行为
1. 一次性输出超过 100 行代码
2. 不经确认直接修改超过 3 个文件
3. 使用过时的 API 或弃用的方法
4. 猜测需求，不确定就要问

## ✅ 必须执行
1. 任何改动先说计划，等确认再做
2. 写代码前用 Context7 查最新文档
3. 改代码前先读懂现有代码
4. 每完成一个小功能就停下让我验证
5. 出 Bug 先定位后修复，解释原因

## 沟通规则
- 不确定就问，不要猜
- 方案有多个时，列出来让我选
- 复杂改动分步进行
- 用中文回复

## 代码规范
[根据你的项目补充]
```

---

## 🚀 快速上手

### 你现在可以做的

1. **复制上面的模板**到你的 AI 浏览器项目
2. **告诉另一个窗口的 AI**："从现在开始，按照 .cursorrules 的规则来工作"
3. **每次任务开始时说**："先告诉我你的计划，我确认后再做"
4. **发现问题时说**："停，先解释为什么会这样，再说怎么改"

### 常用指令

```
"先读一下相关代码，告诉我你理解的逻辑"
"有几种方案？各有什么优缺点？"
"这样改会影响其他地方吗？"
"分步来做，先做第一步"
"不对，停下来，我解释一下..."
```

